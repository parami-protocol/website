var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("warmup/bi/events.json",[],function(){return{SERVER_SIDE_RENDERING_FLOW:{eventId:380,adapter:"ugc-viewer",sampleRatio:1,params:{phase_name:"phase",status:"status",warning_msg:"warningMessage",isBot:"isBot"}}}}),define("warmup/bi/events",["warmup/bi/events.json","lodash","warmupUtils"],function(e,t,n){"use strict";return n.loggingUtils.logger.register("warmup","event",e),e}),define("warmup/lib/bodyStub",["warmupUtils"],function(e){"use strict";return{generate:function(){var t=window.document.createElement("DIV");t.setAttribute("id","SITE_CONTAINER"),window.document.body.appendChild(t),window.clientSideRender=!0,window.santaRenderingError={errorInfo:e.constants.BODY_NOT_RENDERED_ERR}}}}),define("warmup/lib/layout",["lodash","warmupUtils","layout","experiment"],function(e,t,n,r){"use strict";function a(a,o){o=o||e.noop;var s=a.getRootNavigationInfo(),u=s.pageId,l=e.isEmpty(a.notRenderedStructures),c=function(n,r){if(!r)return e.forOwn(n.notRenderedStructures,function(e,t){"undefined"!==t&&(e.getDomNodeFunc=i)});var a={};return a.inner=t.structuresDescription.getInner(n,i),a.outer=t.structuresDescription.getOuter(n,i),a.siteBackground=t.structuresDescription.getSiteBackground(n,i),a.wixAds=t.structuresDescription.getWixAds(n),a}(a,l),d={getSiteData:function(){return a},getAllRenderedRootIds:function(){return["masterPage",u]},getRuntimeDal:function(){return{getCompData:function(){return null},getCompDesign:function(){return null},getCompProps:function(){return null},getActionsAndBehaviors:function(){return null}}},getLayoutMechanism:function(){return t.layoutUtils.getLayoutMechanism(a)},isExperimentOpen:function(e){return r.isOpen(e,a)}};t.mobileViewportFixer.fixViewportTag(a),n.updateBodyNodeStyle(a),n.reLayout(c,d),l&&(i("masterPage").style.visibility="",i(s.pageId).style.visibility=""),o()}function i(){var t=e.toArray(arguments),n=t.join(""),r=window.document.getElementById(n);if(!r){var a=t[0],i=t.slice(1).map(function(e){return e.replace(a,"")}).join("");r=window.document.getElementById(a+i)}return r}return{runLayout:function(t,n){var r=e.keys(e.get(window,"warmupData.wixapps",{})).length>1?["wixappsLayout"]:[];requirejs(r,a.bind(null,t,n))}}}),define("warmup/lib/anchorLinkHandler",["lodash","zepto","warmupUtils"],function(e,t,n){"use strict";var r=n.siteConstants.PAGE_ANCHORS,a="data-originalHref";return{patchAnchorLinks:function(n,i){var o={};e.set(o,r.TOP_ANCHOR_ID,"prepend"),e.set(o,r.BOTTOM_ANCHOR_ID,"append"),e.forEach(o,function(e,n){if(0===window.document.querySelectorAll(n).length){var r=window.document.createElement("A");r.setAttribute("id",n),t(window.document.body)[e](r)}}),t("a[data-anchor]").each(function(t,r){var o=r.getAttribute("data-anchor"),s=e.get(n.getDataByQuery(o),"compId",o);if(!e.includes(r.href,"#")&&r.href===i){var u=r.getAttribute("href");r.setAttribute(a,u),r.setAttribute("href","#"+s)}})},restoreAnchorLinks:function(){t("a[data-originalHref]").each(function(e,t){var n=t.getAttribute(a);t.setAttribute("href",n),t.removeAttribute(a)})}}}),define("warmup/lib/iframesHandler",["zepto","lodash"],function(e,t){"use strict";function n(e){var n=t.filter(r,{ref:this})[0];n.isLoaded=!0,n.event=e}var r=[];return{registerIframesOnLoad:function(){e("iframe[data-src]").forEach(function(e){r.push({ref:e,isLoaded:!1}),e.addEventListener("load",n,!1)})},flushEvents:function(){r.forEach(function(e){e.ref.removeEventListener("load",n)}),t(r).filter(function(e){return e.isLoaded&&"function"==typeof e.ref.onload}).forEach(function(e){e.ref.onload(e.event)}),r=null}}}),define("warmup/lib/tpaStyleUtils",["lodash","warmupUtils"],function(e,t){"use strict";function n(e,n){var r=e&&e.scriptsDomainUrl||"https://static.parastorage.com/";return t.urlUtils.joinURL(r,"services","santa-resources","resources","viewer",n)}function r(e){var t=e.toString(16);return 1===t.length?"0"+t:t}var a=["latin-ext","cyrillic","japanese","korean","arabic","hebrew","latin"],i="param_font_",o=function(t,r,a){var i=function(t,r){var a=function(e,t){var r={langauges:n(e,"user-site-fonts/v5/languages.css")};return"WixSite"===t&&(r.helveticas=n(e,"user-site-fonts/v3/helvetica.css")),r}(t,r);return e.values(a)}(t,r);return a||(i=e.invokeMap(i,String.prototype.replace,/^https?\:/,"")),i},s=function(t){var n=0;return e.reduce(l(),function(e,r,a){return e[a]=u(t[n++],r),e},{})},u=function(e,n){var r=t.fonts.parseFontStr(e),a=t.fonts.getFontFamilyWithFallbacks(r.family);return{editorKey:n,lineHeight:r.lineHeight,style:r.style,weight:r.weight,size:r.size,fontFamily:r.family.toLowerCase(),value:"font:"+[r.style,r.variant,r.weight,r.size+"/"+r.lineHeight,a].join(" ")+";"}},l=function(){return{Title:"font_0",Menu:"font_1","Page-title":"font_2","Heading-XL":"font_3","Heading-L":"font_4","Heading-M":"font_5","Heading-S":"font_6","Body-L":"font_7","Body-M":"font_8","Body-S":"font_9","Body-XS":"font_10"}},c=function(e){var t=e.split(",");return n=t[0],a=t[1],i=t[2],"#"+r(n)+r(a)+r(i);var n,a,i},d=function(e,n,r,a){var o=a.THEME_DATA,s=t.stringUtils.startsWith(e,"alpha-");n.hasOwnProperty(e)&&!s&&(e.match("param_color_")?r.colors[e.replace("param_color_","")]=f(e,n,s,o):e.match("param_number_")?r.numbers[e.replace("param_number_","")]=+n[e]:e.match("param_boolean_")?r.booleans[e.replace("param_boolean_","")]=S(n[e]):e.match(i)&&(r.fonts[e.replace(i,"")]=p(n[e],o)))},f=function(n,r,a,i){var o=r[n],s=void 0;if(o&&!e.isString(o)&&o.value)return{themeName:void 0,value:o.value.cssColor||o.value.color.value||o.value.rgba};if(!a&&o&&e.isString(o)&&t.stringUtils.startsWith(o,"color_")){var u=(d=i,f=o,function(e,t){return e[t&&t.split("_")[1]]||t}(d.color,f));if(u=e.includes(u,",")?c(u):u,r.hasOwnProperty("alpha-"+n)&&1!==r["alpha-"+n]){var l=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{}}(u);s="rgba("+l.r+","+l.g+","+l.b+","+r["alpha-"+n]+")"}else s=u;return{themeName:o,value:s}}if(!a)return{themeName:void 0,value:o};var d,f;return{themeName:void 0,value:void 0}},p=function(e,t){var n="object"===(void 0===e?"undefined":_typeof(e))?e.value:JSON.parse(e);return n.fontStyleParam&&"Custom"===n.preset?g(n):n.fontStyleParam&&n.theme?v(n):n.fontStyleParam?m(n,t.font):n.fontParam&&"None"===n.preset?y(n):n.fontParam&&w(n),n},g=function(e){var n=t.fonts.getFontFamilyWithFallbacks(e.family),r=e.size+"px",a=Math.floor(1.25*e.size)+"px",i="";i+="font:"+[e.style.italic?"italic":"normal","normal",e.style.bold?"bold":"normal",r+"/"+a,n].join(" ")+";",i+=e.style.underline?"text-decoration:underline;":"",e.value=i},m=function(e,t){var n=s(t)[e.preset];e.value=n.value,e.size=parseInt(n.size,10),e.family=n.fontFamily,e.style.bold="bold"===n.weight,e.style.italic="italic"===n.style,e.style.underline=!1},v=function(e){var n=t.fonts.getFontFamilyWithFallbacks(e.family),r=t.fonts.parseFontStr(e.preset);e.value="font:"+[r.style,r.variant,r.weight,r.size+"/"+r.lineHeight,n].join(" ")+";",e.size=parseInt(r.size,10),e.family=r.family.toLowerCase(),e.style.bold="bold"===r.weight,e.style.italic="italic"===r.style,e.style.underline=!1},y=function(e){var n="";n+="font-family:"+t.fonts.getFontFamilyWithFallbacks(e.family)+";font-style:"+(e.style.italic?"italic":"normal")+";font-weight:"+(e.style.bold?"bold":"normal")+";",n+=e.style.underline?"text-decoration:underline;":"",e.value=n},w=function(e){e.family=e.value,e.value=h(e),e.size=0,e.style={bold:!1,italic:!1,underline:!1}},h=function(e){var t="font-family:"+(e.cssFontFamily||e.value)+";";return t=t.replace(/''/g,"'")},S=function(t){return e.isBoolean(t)?t:"false"!==t},b=function(t,n,r,a,i){return E(e.assign(D(r,n),s(t)),a,i)},E=function(n,r,a){var i={};e.forEach(n,function(e){"string"==typeof e&&(e=JSON.parse(e)),i[e.family||e.fontFamily]=1});var o=t.fonts.getFontsUrlWithParams(i,r,a);return e.includes(o,"family=null")?"":o},D=function(t,n){var r={},a=I(t,n);return e.forEach(a,function(e,t){t.match(i)&&(r[t.replace(i,"")]=e)}),r},I=function(e,t){var n=t[e];return n?n.style&&n.style.properties||null:null},_=function(n,r,a,i){var o=e.assign(D(i,r),s(n)),u=t.fonts,l=e(o).map(function(t){return e.isString(t)&&(t=JSON.parse(t)),t.family||t.fontFamily}).filter(function(e){return u.isUploadedFontFamily(e)}).union().value();return u.getUploadedFontFaceStyles(l,a.mediaRootUrl)};return{getMediaUrl:n,filterLegacyFonts:function(t,n){var r=["Roboto Thin","Roboto Bold","Work Sans Extra Light","Work Sans Semi Bold","Poppins Extra Light","Poppins Semi Bold","Barlow Extra Light","Barlow Medium","Oswald Extra Light","Oswald Medium","Cormorant Garamond Light","Cormorant Garamond Semi Bold","Playfair Display Bold","Dancing Script Regular","Damion","Suez One","Rozha One","Raleway Semi Bold","Lato Light","Questrial"];return e.forEach(t,function(t){t.fonts=e.reject(t.fonts,{permissions:"legacy"}),n||(t.fonts=e.reject(t.fonts,function(t){return e.includes(r,t.displayName)}))}),t},getCurrentSelectablefontsWithParams:function(n,r){var i=function(n){var r=function(e){var t=["all","legacy"];return"WixSite"===e&&t.push("studio"),t}(n),a=e.reduce(t.fonts.getFontsMetaData(),function(n,a,i){var o=a.characterSets;return e.includes(r,a.permissions)&&(a.cssFontFamily=function(n){var r=t.fonts.getFontsMetaData()[n.toLowerCase()],a=r.fontFamily,i=void 0;return r?(i=a,""!==r.fallbacks&&(i+=","+r.fallbacks),i+=","+r.genericFamily):i=n,e(i).split(",").invokeMap("replace",/.*[^\w\d\-].*/,'"$&"').join(",")}(i),e.forEach(o,function(e){n[e]||(n[e]=[]),n[e].push(a)})),n},{});return e.forOwn(a,function(t,n){a[n]=e.sortBy(t,"displayName")}),a}(n);return e(a).intersection(r).map(function(e){return{lang:e,fonts:i[e]}}).value()},getWixStoredFontsCssUrls:o,getTextPresets:s,getSiteColors:function(t){return e.reduce(t,function(t,n,r){return(r>=1&&r<=5||r>=11&&r<=35)&&t.push({name:"color_"+r,value:e.includes(n,",")?c(n):n}),t},[])},getStylesForSDK:function(t,n,r,a,i,s,u){var l=t.THEME_DATA,c={colors:{},numbers:{},booleans:{},fonts:{},googleFontsCssUrl:b(l.font,t,n,i,s),uploadFontFaces:_(l.font,t,a,n)},f=I(n,t);return f?(e.forEach(f,function(e,n){d(n,f,c,t)}),r?e.merge(c,{cssUrls:o(a,i,u)}):c):c}}}),define("warmup/lib/tpaHandlers",["lodash","tpaWarmup","warmup/lib/tpaStyleUtils"],function(e,t,n){"use strict";function r(t){var n=t.rendererModel.siteInfo.siteTitleSEO||"";t.publicModel&&t.publicModel.siteDisplayName&&(n=t.publicModel.siteDisplayName);var r=t.getCurrentUrlPageId(),a=t.getDataByQuery(r),i=a.title||"",o=a.pageTitleSEO||"",s=t.isHomePage(r),u=function(t,n){if(n.isDynamicPage(t)){var r=e.get(n.dynamicPages.headData,[t,"title"]);if(!r){var a=e.get(n.dynamicPages.data,[t,"routerDefinition","prefix"]),i=n.getRootNavigationInfo().innerRoute,o=n.rendererModel.siteInfo.siteTitleSEO||"";n.publicModel&&n.publicModel.siteDisplayName&&(o=n.publicModel.siteDisplayName);return(o+" | "+a+" "+i).trim()}return function(e){if(e)return e.replace(/["']/g,"").replace(/\n/g," ")}(r)}}(r,t);return u?n=u:o?n=o:s||(n=n+" | "+i),n}return{appIsAlive:function(r,a){t.reportWarmupPerformanceBiEvent(t.events.APP_SDK_START_LOADING,r,a.compId);var i=r.rendererModel.siteInfo.documentType,o=r.getDataByQuery("masterPage").characterSets,s=r.serviceTopology,u=r.getCurrentUrlPageId(),l=e.find(r.pagesData[u].structure[r.getViewMode()],{id:a.compId}),c=e.get(l,"origCompId");c&&(l=e.find(r.pagesData[u].structure[r.getViewMode()],{id:c}));var d=e.get(l,"styleId"),f=r.pagesData.masterPage.data.theme_data.THEME_DATA,p=n.getMediaUrl(r.serviceTopology,"editorUI/fonts.v4.png"),g=n.filterLegacyFonts(n.getCurrentSelectablefontsWithParams(i,o),!0);return{fonts:{cssUrls:n.getWixStoredFontsCssUrls(s,i,!0),imageSpriteUrl:p,fontsMeta:g},siteTextPresets:n.getTextPresets(f.font),siteColors:n.getSiteColors(f.color),style:d?n.getStylesForSDK(r.pagesData.masterPage.data.theme_data,d,!1,s,i,o,!0):{}}},applicationLoaded:function(e,n){t.reportWarmupPerformanceBiEvent(t.events.APP_LOADED_SUCCESSFULLY,e,n.compId)},applicationLoadingStep:function(e,n){t.reportWarmupPerformanceBiEvent(t.events.APP_LOADED_PARTIALLY,e,n.compId,{stage:n.data.stage,stageNum:n.data.stageNum})},siteInfo:function(e){var t={},n=e.getDataByQuery(e.getCurrentUrlPageId());t.pageTitle=r(e)||"",t.siteDescription=n.descriptionSEO,t.siteKeywords=n.metaKeywordsSEO;var a=e.currentUrl;return t.url=a.full,t.baseUrl=e.getExternalBaseUrl(),t.referer=window.document.referrer,t},getValue:function(n,r){var a=n.getCurrentUrlPageId(),i=function(t,n){var r=t.getCurrentUrlPageId();return e.find(t.pagesData[r].structure[t.getViewMode()],{id:n})}(n,r.compId),o=n.getDataByQuery(e.get(i,"dataQuery"));return t.tpaDataService.getValue(n,r,a,o)},getCurrentPageId:function(e){return e.getCurrentUrlPageId()}}}),define("warmup/lib/postMessageHandler",["lodash","tpaWarmup","warmup/lib/tpaHandlers"],function(e,t,n){"use strict";function r(r,i){try{var o=JSON.parse(i.data);e.isFunction(n[o.type])&&t.isTpaSupportedInWarmup(r,o.compId)&&function(e,t,r){var a=JSON.stringify({intent:"TPA_RESPONSE",callId:e.callId,type:e.type,res:n[e.type](t,e),status:!0});r.postMessage(a,"*")}(o,r,i.source)}catch(e){}finally{a.push(i)}}var a=[],i=void 0;return{registerToPostMessages:function(t){i=e.partial(r,t),window.addEventListener("message",i,!1)},flushPostMessages:function(t){window.removeEventListener("message",i),e.forEach(a,function(e){try{window.dispatchEvent(e)}catch(n){window.postMessage(e.data,t)}}),a=null}}}),define("warmup",["lodash","zepto","experiment","warmupUtils","warmup/bi/events","warmup/lib/bodyStub","warmup/lib/layout","warmup/lib/anchorLinkHandler","warmup/lib/iframesHandler","warmup/lib/postMessageHandler"],function(e,t,n,r,a,i,o,s,u,l){"use strict";function c(t,n,i,o){var s=t.publicModel.deviceInfo,u="Bot"===e.get(s,"browserType");r.loggingUtils.logger.reportBI(t,a.SERVER_SIDE_RENDERING_FLOW,{phase:n,status:e.defaultTo(i,!0)?1:0,warningMessage:o||null,isBot:u})}var d=r.indicator;return{init:function(a,f){c(a,"did_load_warmup_packages"),t(function(){var p=!e.isUndefined(window.clientSideRender);if(c(a,"will_warmup",p,p?null:"Body not rendered"),p||(window.clientSideRender=!0,i.generate(a)),window.clientSideRender)return d.updateStateOnClientSide(),c(a,"did_warmup",p,e.get(window,"santaRenderingError.reason","Fallback to client")),void f();var g=window.warmupData.landingPageNavigationInfo;e.assign(a,e.pick(window.warmupData,["svgShapes","wixapps","mediaRichTextInnerComponents","userWarmup","browserDetection","externalStyles","runtimeSSR","afterSSRWithWixCode","landingPageNavigationInfo","dynamicPages","pendingBehaviours","pendingRuntimeDalChanges","clonedDataItemsIdsMap","pendingRuntimeDalChanges"]),{pagesData:window.warmupData.fullPagesData,currentUrl:r.urlUtils.parseUrl(window.warmupData.currentUrl)}),t("body").addClass("warmup");var m=function(t,n){var a=new r.SiteData(e.assign({},t,{pagesData:n.displayedPagesData,notRenderedStructures:n.notRenderedStructures}));return delete a.resolvedDataMaps,a.anchorsMap=n.anchorsMap,a.imagesToLayout=n.imagesToLayout,a}(a,window.warmupData);m.setRootNavigationInfo(g),m.updateScreenSize(),window.pagesData=window.pagesData||window.warmupData&&window.warmupData.fullPagesData,r.urlUtils.setPersistentCacheKiller(window.warmupData.persistentCacheKiller);var v=window.document.getElementById("SITE_CONTAINER").children[0];window.sssr.serverSantaVersion=v.getAttribute("data-santa-version"),d.init(function(){!1===window.sssr.success&&window.open("https://santatools.wix.com/diverginator/?vsi="+window.wixBiSession.viewerSessionId),r.urlUtils.isTrue("ssrWarmupOnly")&&(d.updateState(d.STATES.RENDERING),f())}),l.registerToPostMessages(m),u.registerIframesOnLoad(),t("#SITE_ROOT").css({"min-height":"100%",position:"relative",margin:"0 auto"}),m.pagesDataRaw={pagesData:m.pagesData},o.runLayout(m,function(){if(r.urlUtils.isTrue("isqa")&&e.set(window,"qaApi",{emptyObjectForQA:"justForAutomationUsage",siteIsReady:function(){return!0}}),window.sssr.serverMarkup=window.document.getElementById("SITE_CONTAINER").children[0].innerHTML,d.updateState(d.STATES.WARMUP),s.patchAnchorLinks(m,location.href),r.loggingUtils.logger.reportBeatEvent(m,"visible",g.pageId),n.isOpen("sv_ssrEmitLoadEvent",m)){var t=window.document.createEvent("Event");t.initEvent("load",!1,!1),window.dispatchEvent(t)}c(m,"did_warmup"),r.urlUtils.isTrue("ssrWarmupOnly")||n.isOpen("sv_ssrWarmupOnly",m)?d.updateState(d.STATES.STANDBY):f()})})},willRender:function(e){c(e,"will_render")},didRender:function(n,r){if(t("body").removeClass("warmup"),e.forEach(n.runtime.components,function(t){e.unset(t,"overrides.actionsBehaviors")}),r){var a=n.getOrigin();u.flushEvents(),l.flushPostMessages(a),s.restoreAnchorLinks()}d.updateState(r?d.STATES.SUCCESS:d.STATES.DIVERGE),c(n,"did_render",r)}}});