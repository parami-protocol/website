function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();define("coreUtils/components/componentUtils",["lodash","coreUtilsLib","warmupUtils"],function(e,t,n){"use strict";var o=n.constants;return{shouldBeRendered:function(t,n){return e.includes(t,n)||"masterPage"===n},getChildrenFromPageMap:function(t,n){return e.map(t.components,function(e){return n[e]})},convertNestedStructureToFlat:function(n){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.VIEW_MODES.DESKTOP)===o.VIEW_MODES.MOBILE;return e.mapValues(t.dataUtils.getAllCompsInStructure(n,r),function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(n,o,r,i){var a=o[t.dataUtils.getChildrenKey(o,n)];return e.forEach(a,function(e){i[e.id].parent=r}),a?e({components:e.map(a,"id")}).defaults(o).omit(["children","mobileComponents"]).value():e.omit(o,["children","mobileComponents","components"])}.apply(void 0,[r].concat(o))})}}}),define("coreUtils/core/anchorTagsGenerator",["lodash","coreUtilsLib"],function(e,t){"use strict";function n(e){var t=i.document.createDocumentFragment().appendChild(i.document.createElement("div"));return t.innerHTML=e,{container:t,textNodes:function e(t,n){n=n||[],o=t,o.nodeType===i.Node.TEXT_NODE&&n.push(t);var o;if(r=t,r.nodeType===i.Node.ELEMENT_NODE&&"a"===r.tagName.toLowerCase())return n;var r;for(t=t.firstChild;t;)e(t,n),t=t.nextSibling;return n}(t)}}function o(t,n){var o=[],s=t.parentNode,c=t.data,u=a.findAll(c,n);0!==u.length&&(e(u).orderBy("index","desc").forEach(function(t){o.push(i.document.createTextNode(c.slice(t.index+t.key.length))),o.push(function(t){var n=r(t),o=i.document.createElement("a");o.innerHTML=t.key,o.classList.add(n.className),e.forEach(e.omit(n,["className"]),function(e,t){o.setAttribute(t,e)});var a=i.document.createElement("object");return a.appendChild(o),a.setAttribute("height",0),a}(t)),c=c.slice(0,t.index)}),o.push(i.document.createTextNode(c)),e.forEach(o.reverse(),function(e){s.insertBefore(e,t)}),s.removeChild(t))}function r(t){var n={"data-auto-recognition":"true","data-content":t.key,className:"auto-generated-link"};switch(t.pattern){case a.Pattern.PHONE:return e.assign(n,{href:"tel:"+t.value,"data-type":"phone"});case a.Pattern.MAIL:return e.assign(n,{href:"mailto:"+t.value,"data-type":"mail"});case a.Pattern.URL:return e.assign(n,{href:t.value,target:"_blank","data-type":"external"});default:throw new Error("Unknown Pattern: "+t.pattern)}}var i=t.fragment,a=t.textPatternRecognizer,s=t.textPatternRecognizer.Pattern;return{generateAnchorsInHtml:function(t,r){if(!e.some(r))return t;var i=n(t);return e.forEach(i.textNodes,e.partial(o,e,r)),i.container.innerHTML},findDataForAnchors:function(t,o){if(!e.some(o))return[];var i=n(t);return e(i.textNodes).map("data").flatMap(e.partial(a.findAll,e,o)).map(r).value()},getIncludedPatterns:function(e,t){var n={};return n[s.PHONE]=t,n[s.MAIL]=!0,n[s.URL]=!0,n}}}),define("coreUtils/core/wixUserApi",["lodash","warmupUtils","coreUtilsLib"],function(e,t,n){"use strict";function o(e){var t=a.parseCookieString(e)[s];if(t){var n=t.split("|");return{userName:n[0],email:n[1],mailStatus:n[2],permissions:n[3],isSessionNew:n[4],isSessionValid:n[5],userID:n[6]}}return null}var r=t.languages,i=t.siteDataUtils,a=n.cookieUtils,s="wixClient";return{getUsername:function(e){var t=o(i.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(t,n,o){var i,s=(i=t||"",a.parseCookieString(i).wixLanguage),c=n.query&&n.query.lang||function(){var e=n.host.split(".");return 2===e[0].length?e[0]:null}()||s||("undefined"==typeof window||void 0===window.navigator?null:(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||o;return c&&(c=c.substring(0,2).toLowerCase()),e.includes(r,c)?c:"en"},getLanguageFromSiteData:function(e){var t=e.getCookie(),n=e.currentUrl,o=e.getUserLanguageFromModel();return this.getLanguage(t,n,o)},isSessionValid:function(e){return!!o(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),a.deleteCookie(s,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return r}}}),define("coreUtils/core/linkTypes",[],function(){"use strict";return{PAGE_LINK:"PageLink",EXTERNAL_LINK:"ExternalLink",ANCHOR_LINK:"AnchorLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",EMAIL_LINK:"EmailLink",PHONE_LINK:"PhoneLink",DOCUMENT_LINK:"DocumentLink",SWITCH_MOBILE_VIEW_MODE:"SwitchMobileViewMode",DYNAMIC_PAGE_LINK:"DynamicPageLink"}}),define("coreUtils/core/linkUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/linkTypes"],function(e,t,n,o){"use strict";function r(e){var t="mailto:"+(e.recipient&&e.recipient.trim()||""),n=[];return e.subject&&n.push("subject="+e.subject),e.body&&n.push("body="+e.body),n.length>0&&(t+="?"+n.join("&")),t}function i(n,o){var r=n.docId,i=/\.pdf$/i.test(r),a=o.serviceTopology.staticDocsUrl,s=void 0;return e.includes(r,"ugd/")&&e.includes(a,"/ugd")&&(r=r.substr(r.indexOf("ugd")+4)),s=a+"/"+r,i?!0===n.indexable&&(s+="?index=true"):s+="?"+t.urlUtils.toQueryString({dn:n.name}),s}function a(e){return"tel:"+e.phoneNumber}function s(t,n,o,r,i,a,s){if(e.includes(o,n)){t.getSiteAspect("actionsAspect").registerNavigationComplete(a);var c={pageId:n};r&&(c.transition="none"),i&&(c.anchorData=i),t.navigateToPage(c)}else s&&s({error:{message:'Page id "'+n+'" was not found.'}})}var c,u=n.wixUrlParser,l=(c={},_defineProperty(c,o.PAGE_LINK,["type","pageId"]),_defineProperty(c,o.EXTERNAL_LINK,["type","target","url"]),_defineProperty(c,o.ANCHOR_LINK,["type","anchorName","anchorDataId","pageId"]),_defineProperty(c,o.EMAIL_LINK,["type","recipient","subject"]),_defineProperty(c,o.PHONE_LINK,["type","phoneNumber"]),_defineProperty(c,o.DOCUMENT_LINK,["type","docId","name"]),_defineProperty(c,o.DYNAMIC_PAGE_LINK,["type","routerId","innerRoute","anchorDataId"]),c);return{getEmailLink:r,getDocumentLink:i,getPhoneLink:a,navigateToLink:function(t,n,o){if(n)switch(n.type){case"PageLink":n.pageId?s(t,n.pageId.replace("#",""),t.getSiteData().getAllPageIds(),!1,void 0,e.noop,o):o&&o({error:{message:"missing pageId property for PageLink"}});break;case"AnchorLink":!function(t,n,o){if(n.pageId){var r=n.pageId.replace("#","");if(t.getSiteData().getPrimaryPageId()===r||t.getSiteData().MASTER_PAGE_ID===r)t.scrollToAnchor(n.anchorDataId);else{s(t,r,t.getSiteData().getAllPageIds(),!1,n.anchorDataId,e.noop,o)}}else o&&o({error:{message:"missing pageId property for AnchorLink"}})}(t,n,o);break;case"ExternalLink":break;case"EmailLink":window.location.href=r(n);break;case"PhoneLink":window.location.href=a(n);break;case"DocumentLink":var c=i(n,t.getSiteData());window.open(c,"_self");break;case"DynamicPageLink":!function(e,t,n){var o=u.getUrl(e.getSiteData(),t),r=u.parseUrl(e.getSiteData(),o);n&&(r.anchorData=n),e.navigateToPage(r,!1,!1)}(t,n,n.anchorDataId)}},navigateToPage:s,getRelevantLinkDataFromMenuItem:function(t){var n={};return t.link&&(n=e.pick(t.link,l[t.link.type]),e.isObject(n.pageId)&&(n.pageId="#"+n.pageId.id),e.isObject(n.anchorDataId)&&(n.anchorDataId="#"+n.anchorDataId.id)),n}}}),define("coreUtils/core/linkRenderer",["lodash","coreUtilsLib","warmupUtils","coreUtils/core/wixUserApi","coreUtils/core/linkUtils","coreUtils/core/linkTypes"],function(e,t,n,o,r,i){"use strict";function a(t,n,o){var r=n.pageId;if(!r)return{};var i=o||{pageId:r.id,title:r.pageUriSEO};n.queryParams&&e.assign(i,{queryParams:n.queryParams}),n.tpaInnerRoute&&e.assign(i,{tpaInnerRoute:n.tpaInnerRoute});var a=l.getUrl(t,i),s={href:a,target:n.target||p};return c(t,r.id)&&e.assign(s,{href:m,"data-no-physical-url":a}),s}function s(e,t){return a(e,t)}function c(e,t){var n=e.pagesDataItemsMap[t];return n&&n.isPopup}function u(e){return!!e&&0===e.indexOf("mailto")}var l=n.wixUrlParser,p="_self",d="_blank",g="https://users.wix.com/signin?",m="javascript:void()",y={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};return{renderLink:function(n,u,m){if(!n||(w=n,"PageLink"===w.type&&!w.pageId||"AnchorLink"===w.type&&!w.pageId||"AnchorLink"===w.type&&!w.anchorDataId||"DocumentLink"===w.type&&!w.docId||"DynamicPageLink"===w.type&&!w.routerId)||!m)return{};var w,f=l.utils.getResolvedSiteData(u);switch(n.type){case i.PAGE_LINK:return s(f,n);case i.EXTERNAL_LINK:return function(e,n){var o="/"===n.url?e.publicBaseUrl:n.url;return t.validationUtils.isValidUrl(o)?{href:o=l.normalizeProtocolForSameSite(e,o),target:n.target||d,"data-content":o,"data-type":"external",rel:e.isPremiumDomain?void 0:"nofollow"}:{}}(f,n);case i.ANCHOR_LINK:return function(n,o,r){var i="masterPage"===o.pageId.id,u=e.clone(o),l=e.has(o.anchorDataId,"id")?o.anchorDataId.id:o.anchorDataId,p=e.includes(t.siteConstants.SAME_PAGE_SCROLL_ANCHORS,l)||i,d=r.imageZoom,g=c(n,r.pageId),m=e.has(r,"routerDefinition"),y=void 0;return y=p?d||g?a(n,{pageId:n.pagesDataItemsMap[n.primaryPageId]}):a(n,u,r):m?a(n,u,r):s(n,u),g||(y["data-keep-roots"]=!0),y["data-anchor"]=l,y}(f,n,m);case i.LOGIN_TO_WIX_LINK:return function(n,r){var i=r.postLoginUrl||"",a=r.postSignupUrl||"",s=r.dialog||"showLogin",c="",u=void 0,l=void 0,d=void 0;return e.includes(a,"ifcontext")&&(d=t.urlUtils.parseUrl(a).query,e.forOwn(d,function(e,t){"ifcontext"===t.toLowerCase()&&(c=e.replace("#",""),a=/^[a-zA-Z0-9]+$/.test(c)?a.replace("{ifcontext}",c):a.replace("{ifcontext}","illegalContextValue"))})),o.isSessionValid(n.cookie)?l=i:("createUser"===s&&(s="sign-up"),u={originUrl:n.currentUrl.full,postLogin:i,postSignUp:a,view:s,overrideLocale:n.languageCode},e.forEach(y,function(t,n){var o=r[t];e.isUndefined(o)||""===o||(u[n]=o)}),l=g+t.urlUtils.toQueryString(u)),{href:l,target:p}}(f,n);case i.EMAIL_LINK:return T=n,{href:r.getEmailLink(T),target:p,"data-content":T.recipient,"data-type":"mail"};case i.PHONE_LINK:return S=n,{href:r.getPhoneLink(S),"data-content":S.phoneNumber,"data-type":"phone"};case i.DOCUMENT_LINK:return h=f,C=n,{href:r.getDocumentLink(C,h),target:d,"data-type":"document"};case i.SWITCH_MOBILE_VIEW_MODE:return v=n,{href:f.currentUrl.full,target:"_self","data-mobile":v.dataMobile};case i.DYNAMIC_PAGE_LINK:return function(t,n){if(!n.routerId)return{};var o={routerId:n.routerId,innerRoute:n.innerRoute};n.queryParams&&e.assign(o,{queryParams:n.queryParams});var r={href:l.getUrl(t,o),target:p};return n.anchorDataId&&(r["data-anchor"]=n.anchorDataId),r}(f,n);case"FormSubmitButtonLink":return{parentConstType:"button"};default:return{}}var v,h,C,S,T},renderImageZoomLink:function(t,n,o,r,i,a){var s=e.defaults({pageItemId:o.id,title:o.title,imageZoom:!0},n),u=l.utils.getResolvedSiteData(t),d=l.getUrl(u,s),g={href:d,target:p};c(u,s.pageId)&&(g.href=m,g["data-no-physical-url"]=d);var y=function(e,t,n){var o=[];return e&&o.push("galleryId:"+e),t&&o.push("propertyQuery:"+t),n&&o.push("galleryCompId:"+n),o.join(" ")}(r,i,a);return y&&(g["data-page-item-context"]=y),g},renderPageLink:function(e,t){return s(l.utils.getResolvedSiteData(t),{pageId:e})},isExternalLink:function(e,t){if(!t)return!1;var n=l.utils.getResolvedSiteData(e),o=!!l.parseUrl(n,t),r=0===t.indexOf(n.serviceTopology.staticDocsUrl),i=t===m;return!(o||u(t)||r||i)},isRelativeUrl:function(e){return!!e&&"/"===e.charAt(0)},isEmailLink:u,getLinkUrlFromLinkProps:function(e){return e.href===m?e["data-no-physical-url"]:e.href},CONSTS:{LOGIN_TO_WIX_URL:g}}}),define("coreUtils/core/menuUtils",["lodash","coreUtils/core/linkRenderer","warmupUtils"],function(e,t,n){"use strict";var o=n.warmupMenuUtils;return{getDropDownWidthIfOk:o.getDropDownWidthIfOk,getMaxWidth:o.getMaxWidth,getMinWidth:o.getMinWidth,removeAllElementsWithWidthZero:o.removeAllElementsWithWidthZero,getSiteMenuWithRender:function(e,n,r){return o.getSiteMenu(e,!1,n,r,t)},getMenuById:function(e,n,r,i,a){return o.getMenuById(e,n,r,i,a,t)},getMenuItems:function(e,n,r,i,a,s){return o.getMenuItems(e,n,r,i,a,s,t)},getSiteMenuWithoutRenderedLinks:function(e,n){return o.getSiteMenu(e,!0,{},n,t)},getActiveAnchorInPage:o.getActiveAnchorInPage,shouldHighlightAnchorInPage:o.shouldHighlightAnchorInPage,convertOldMenuToNewMenu:o.convertOldMenuToNewMenu}}),define("coreUtils/bi/errors.json",[],function(){return{NULL_SITE_ERROR:{errorName:"NULL_SITE_ERROR",errorCode:112e3,severity:"error",params:{p1:"errorMsg",p2:"modules"}},SINGLE_PAGE_RETRIEVAL_ATTEMPT_FAILED:{errorCode:111020,severity:"warning",params:{p2:"pageId",p1:"hostname",p3:"url",p4:"responseStatusCode"}},ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED:{errorCode:111021,severity:"fatal",params:{p1:"pageId"}},FAILED_TO_FETCH_TRANSLATIONS:{errorCode:614151,severity:"fatal",params:{p1:"language",p2:"url",p3:"response",p4:"context"}}}}),define("coreUtils/bi/errors",["coreUtils/bi/errors.json","lodash","warmupUtils"],function(e,t,n){"use strict";var o=n.loggingUtils.logger;return t.forEach(e,function(e,t){e.errorName=t}),o.register("core","error",e),e}),define("coreUtils/core/translationsLoader",["lodash","warmupUtils","coreUtilsLib","coreUtils/bi/errors"],function(e,t,n,o){"use strict";function r(e){switch(e){case"jp":return"ja";case"kr":return"ko";default:return e}}function i(n,r,i,a,u){var l=c.joinURL(i,"resources/santa-viewer/bundles/_generated/santa_viewer_"+a+".json").replace(/https?/,"https");return new Promise(function(i,c){return s.ajax({type:"GET",url:l,dataType:"json",success:i,error:function(i,s,p){var d=e.assign(e.pick(i,["status","statusText","response","responseURL"]),{errorType:s,error:p});t.loggingUtils.logger.reportBI(r,o.FAILED_TO_FETCH_TRANSLATIONS,{language:a,url:l,response:JSON.stringify(d),context:JSON.stringify(u)}),n.failedLanguageCodes.push(a),c()}})}).then(function(t){return e.assign(n.translations,_defineProperty({},a,t))})}var a=t.languages,s=t.ajaxLibrary,c=n.urlUtils,u=function(){function t(e){var n=e.translations,o=e.oldTranslations,r=e.failedLanguageCodes;_classCallCheck(this,t),this.translations=n,this.oldTranslations=o,this.failedLanguageCodes=r||[]}return _createClass(t,[{key:"getRequest",value:function(t,n,o){var r=this,i=this.filterRequiredLangs(n);if(e.isEmpty(i))return null;var a={customDownload:function(){var e=a.done;return r.load(t,n,o).then(e).catch(e)}};return a}},{key:"load",value:function(t,n,o){var r=this,a=t.serviceTopology.scriptsLocationMap["santa-langs"],s=this.filterRequiredLangs(n);return Promise.all(e.map(s,function(n){return i(r,t,a,n,o).catch(function(){var s,c=(s=a,/^(.*\/)[\d.]*$/.exec(s)[1]+"1.2095.0"),u=e.assign({},o,{isFallback:!0});return i(r,t,c,n,u)})}))}},{key:"isLoaded",value:function(t,n){return e.has(this.resolveTranslations(n),t)}},{key:"resolveTranslations",value:function(t){return this.useOldTranslations||e.has(t,"useOldTranslations")||e.isEmpty(this.translations)?this.oldTranslations:this.translations}},{key:"getTranslation",value:function(t,n,o,r,i){var a=this.getTranslationAllKeys(t,n,{},i);return e.get(a,o,r)}},{key:"getTranslationAllKeys",value:function(t,n,o,r){return e.includes(a,n)||(n="en"),this.isLoaded(n,r)||(n="en"),e.get(this.resolveTranslations(r),[n,t],o)}},{key:"overrideTranslations",value:function(e){var t=e.translations,n=e.oldTranslations;this.translations=t,this.oldTranslations=n}},{key:"setToUseOldTranslations",value:function(){this.useOldTranslations=!0}},{key:"filterRequiredLangs",value:function(t){var n=this;return e(t).concat().compact().invokeMap("toLowerCase").uniq().map(r).filter(function(t){return e.includes(a,t)}).reject(function(t){return e.includes(n.failedLanguageCodes,t)}).reject(function(e){return n.isLoaded(e)}).value()}}]),t}(),l=new u({translations:{},oldTranslations:{}});return e.assign(l,{TranslationsLoaderFactory:u})}),define("coreUtils/core/masterPageLayoutUtils",["lodash","warmupUtils"],function(e,t){"use strict";function n(t,n){var o=t?s.MOBILE:s.DESKTOP;return e.includes(o,n.componentType)}function o(t,n){var o=t?s.MOBILE:s.DESKTOP;return e.indexOf(o,n.componentType)}function r(r,i){var a=t.dataUtils.getChildrenData(r,i);return e(a).filter(n.bind(null,i)).sortBy(o.bind(null,i)).value()}function i(e){return e.componentType===a}var a="wysiwyg.viewer.components.SiteRegionContainer",s={MOBILE:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.SiteRegionContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"],DESKTOP:["wysiwyg.viewer.components.HeaderContainer","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.FooterContainer"]};return{getMasterPageSections:r,getMasterPageChildrenSegregateByIsSection:function(r,i){var a=t.dataUtils.getChildrenData(r,i),s=e.partition(a,n.bind(null,i));return s[0]=e.sortBy(s[0],o.bind(null,i)),s},shouldApplyMobileTightLayout:function(n){return function(n,o){var r=t.dataUtils.getChildrenData(n,!0);return e.some(r,i)}(n)||function(e,t){var n=r(e,!0),o=void 0;for(o=0;o<n.length-1;o++){var i=n[o],a=n[o+1];if(i.layout.y+i.layout.height!==a.layout.y)return!1}return!0}(n)}}}),define("coreUtils/core/skinAnchorsMetaData",["lodash"],function(e){"use strict";var t={"wysiwyg.viewer.skins.area.BubbleArea":30,"wysiwyg.viewer.skins.area.BubbleLeftArea":30,"wysiwyg.viewer.skins.area.RibbonAreaSkin":function(t){var n=e.get(t,"style.properties"),o=10;return n&&(o+=parseInt(n.els,10)||0),o},"wysiwyg.viewer.skins.area.SloopyArea":6,"wysiwyg.viewer.skins.area.BubbleAreaLeft":10,"wysiwyg.viewer.skins.area.LeftTriangleArea":5,"wysiwyg.viewer.skins.area.RightTriangleArea":5,"wysiwyg.viewer.skins.area.BubbleAreaRight":10,"wysiwyg.viewer.skins.page.SloopyPageSkin":3,"wysiwyg.viewer.skins.page.BasicPageSkin":20,"wysiwyg.viewer.skins.page.LiftedBottomPageSkin":20,"wysiwyg.viewer.skins.page.LiftedTopPageSkin":20,"wysiwyg.viewer.skins.page.BorderPageSkin":20,"wysiwyg.viewer.skins.page.LiftedShadowPageSkin":20,"wysiwyg.viewer.skins.page.ShinyIPageSkin":20};return{getNonAnchorableHeightForSkin:function(n,o){return e.isFunction(t[n])?t[n](o):t[n]||0}}}),define("coreUtils/core/originalValuesMapGenerator",["lodash","warmupUtils","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createOriginalValuesMap:function(o,r,i){var a={};return function o(s){var c=t.dataUtils.getChildrenData(s,i),u={};if(s.layout&&(u.top=t.boundingLayout.getBoundingY(s.layout)),!e.isEmpty(c)){if(s.layout){var l=s.styleId&&s.styleId.replace("#",""),p=r[l],d=p&&p.skin||s.skin;u.height=s.layout.height-n.getNonAnchorableHeightForSkin(d,p)}e.forEach(c,o)}a[s.id]=u}(o),a}}}),define("coreUtils/core/componentsAnchorsMetaData",["warmupUtils","experiment","lodash"],function(e,t,n){"use strict";var o=e.constants,r={default:{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.BoxSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.StripContainerSlideShow":{to:{allow:!0,zeroBottomParentDistance:!0}},"wysiwyg.viewer.components.Repeater":{to:{allow:!0,zeroBottomParentDistance:!0},skipGroupingForChildren:!0},"wysiwyg.viewer.components.WRichText":{from:{allow:!0,positiveAnchorToDisplayedOnlyParent:!0}},"wysiwyg.viewer.components.Column":{to:{allow:!0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PageGroup":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.ALWAYS}},"mobile.core.components.Page":{to:{allow:!0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PagesContainer":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.PopupContainer":{to:{allow:!0},from:{allow:!1}},"wysiwyg.viewer.components.SiteSegmentContainer":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.ALWAYS}},"wysiwyg.viewer.components.WSiteStructure":{to:{allow:!0,distance:0},from:{allow:!1,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPASection":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPAMultiSection":{to:{allow:!0},from:{allow:!0,lock:o.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":{from:{allow:!1}},"wysiwyg.viewer.components.tpapps.TPAGluedWidget":{from:{allow:!1}},"wixapps.integration.components.AppPage":{from:{allow:!1}},"platform.components.AppController":{to:{allow:!1},from:{allow:!1}},"wysiwyg.viewer.components.Popover":{to:{allow:!1,zeroBottomParentDistance:!0},from:{allow:!1}}};return{get:function(e){return t.isOpen("sv_fixTpaGap",e)?n.omit(r,["wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAMultiSection"]):r}}}),define("coreUtils/core/anchorsUtils",["lodash","warmupUtils","coreUtils/core/componentsAnchorsMetaData"],function(e,t,n){"use strict";var o={bottomTop:"BOTTOM_TOP",bottomParent:"BOTTOM_PARENT",topTop:"TOP_TOP"};return{isAnchorLocked:function(r,i,a,s){if(r===o.topTop)return!0;var c=n.get(s),u=e.get(c,[i,"from"],c.default.from);return u.lock!==t.constants.ANCHORS.LOCK_CONDITION.NEVER&&(u.lock===t.constants.ANCHORS.LOCK_CONDITION.ALWAYS||a<=t.constants.ANCHORS.LOCK_THRESHOLD)},anchorsTypes:o}}),define("coreUtils/core/groupingAnchors",["lodash","mobileLayoutUtils","coreUtils/core/anchorsUtils"],function(e,t,n){"use strict";function o(t){var n=r(t);return c(t,e(n).map(a).transform(s,{virtualGroups:{},childIdToVirtualGroupId:{}}).value())}function r(n){var o=t.splitToFragments(n,"y");return 1===o.length?[]:e(o).filter(l).map("comps").value()}function i(t,n,o){return e.map(t,function(t){var r={x:t.layout.x+n,y:t.layout.y+o},i=e.defaults(r,t.layout);return e.defaults({layout:i},t)})}function a(n){var o=e.assign({fixedPosition:!1},t.getSnugLayout(n));return{id:"virtualGroup_"+n[0].id,layout:o,components:i(n,-o.x,-o.y),componentType:f,type:"Container",skin:"undefined",styleId:"undefined"}}function s(t,n){return t.virtualGroups[n.id]=n,e.transform(n.components,function(e,t){e[t.id]=n.id},t.childIdToVirtualGroupId)}function c(t,n){var o=e.reduce(t,function(t,o){var r=n.childIdToVirtualGroupId[o.id];return r?t[r]?t:e.set(t,r,n.virtualGroups[r]):e.set(t,o.id,o)},{});return e.values(o)}function u(e){return!e.layout.fixedPosition&&!e.layout.rotationInDegrees}function l(t){return t.comps.length>1&&(t.distanceToPreviousFragment>=w||t.distanceToPreviousFragment<0)&&e.every(t.comps,u)}function p(e){return e.componentType===f}function d(t,n,o){var r=e.mapKeys(n,"id"),i=e.pickBy(r,p);if(e.isEmpty(i))return t;var a,s,c,u=e(i).flatMap("components").mapKeys("id").assign(r).value(),l=(a=t,s=i,c=o,e.transform(a,function(e,t,n){if(s[n]){y(e,g(s[n],t,c))}else e[n]=t},{}));return e.mapValues(l,e.partial(m,u))}function g(t,o,r){return e.transform(t.components,function(i,a){var s=t.layout.height-a.layout.y-a.layout.height,c=e.map(o,function(t){var o=t.distance+s,i=n.isAnchorLocked(t.type,a.componentType,o,r);return e.defaults({fromComp:a.id,distance:t.distance+s,locked:i,originalValue:t.originalValue},t)});i[a.id]=c},{})}function m(t,o,r){return e.reduce(o,function(o,i){var a=t[i.targetComponent];if(!p(a))return o.concat([i]);var s=e.map(a.components,function(o){var a=o.layout.y,s=i.distance+a,c=n.isAnchorLocked(i.type,t[i.fromComp],s,r);return e.defaults({targetComponent:o.id,distance:s,locked:c,originalValue:i.originalValue+a},i)});return o.concat(s)},[])}function y(t,n){return e.transform(n,function(e,t,n){e[n]=(e[n]||[]).concat(t)},t)}var w=10,f="VirtualGroup";return{testAPI:{groupRowsComponents:o,findGroupableRowComponents:r,createVirtualGroup:a,addVirtualGroupToGroupedComponentsMap:s,replaceGroupedComponentsToVirtualGroups:c,areFragmentComponentsGroupable:l,convertGroupingAnchors:d,mergeAnchorsMaps:y,replaceAnchorsFromVirtualGroup:g,replaceAnchorsToVirtualGroup:m,translateComponents:i},isVirtualGroup:p,groupRows:function(e,t){return t&&e.length?o(e):e},resolve:function(t,n,o,r,i,a){return o&&n.length&&!e.isEmpty(r)?y(r,d(a,n.concat([t]),i)):a}}}),define("coreUtils/core/anchorsGenerator",["lodash","warmupUtils","coreUtils/core/masterPageLayoutUtils","coreUtils/core/skinAnchorsMetaData","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/groupingAnchors","coreUtils/core/anchorsUtils"],function(e,t,n,o,r,i,a){"use strict";function s(e,t,n,o,r){return{distance:r||0,locked:!0,originalValue:o,fromComp:t,targetComponent:n,type:e}}function c(e,t,n,o,r,i,c){var u=s(e,n,o,i,r);return u.locked=a.isAnchorLocked(e,t,r,c),u}function u(t){for(var n,o,r=(n=b,o=t,e.flatMap(n,function(t){return e.map(o[t],"target")})),i={};r.length;){var a=r.shift();i[a]=!0;var s=e(t[a]).map("target").reject(function(t){return e.has(i,t)}).value();r=r.concat(s)}return i}function l(n,i,a,s,l){var p=u(n);return e.mapValues(n,function(n,u){if(!n.length)return[];var d=i[u];return d.layoutAnchors?d.layoutAnchors.slice():e(n).map(function(n){if(n.target===E)return function(n,i,a,s){if("masterPage"===i.id||i.id===t.constants.COMP_IDS.PAGES_CONTAINER)return c(P.bottomParent,n.componentType,n.id,i.id,0,0,s);var u=a[i.styleId&&i.styleId.replace("#","")],l=u&&u.skin||i.skin,p=i.height-o.getNonAnchorableHeightForSkin(l,u),d=p,g=r.get(s),m=e.get(g,[i.componentType,"to","zeroBottomParentDistance"])?0:p-(n.boundingY+n.boundingHeight),y=e.get(g,[n.componentType,"from","positiveAnchorToDisplayedOnlyParent"]),w=t.displayedOnlyStructureUtil.isDisplayedComponent(i.id);return y&&w&&(m=Math.max(0,m)),c(P.bottomParent,n.componentType,n.id,i.id,m,d,s)}(d,a,s,l);var u=i[n.target];return n.type===P.bottomTop?function(e,t,n,o){var r=t.boundingY-e.boundingY-e.boundingHeight,i=n?0:t.boundingY;return c(P.bottomTop,e.componentType,e.id,t.id,r,i,o)}(d,u,p[u.id],l):function(e,t,n){var o=t.boundingY-e.boundingY;return c(P.topTop,e.componentType,e.id,t.id,o,t.boundingY,n)}(d,u,l)}).compact().value()})}function p(n,o,a,s,c,u,p){var d=r.get(c),g=a.applyGroupingAnchors&&!e.get(d,[o.componentType,"skipGroupingForChildren"]),m=i.groupRows(n,g),f=function(t,n,o){var r=e.filter(t,i.isVirtualGroup);return e.reduce(r,function(t,r){var i=e.reduce(y(r,{forceMobileStructure:!0,applyGroupingAnchors:!1},n,o),function(t,n,o){return o===r.id?t:e.set(t,o,e.reject(n,{targetComponent:r.id}))},{});return e.assign(t,i)},{})}(m,s,c),C=function(t,n,o){var r=e.reduce(t,function(e,t){return e[t.id]=w(t,n),e},{});return e.forEach(o,function(t,n){r[n]=e.assign(r[n],t)}),r}(m,c,p),S=function(t){var n={},o={},r=e(t).filter("canCreateAnchorsToComp").sortBy("boundingY").value(),i={left:-1e5,right:1/0,ids:["root"]};r=function(e){var t={x:-1e5,y:1/0,height:10,width:1/0,id:E,canBePushed:!0,canPush:!1,boundingY:1/0,boundingBottom:1/0,boundingHeight:10};return e.concat(t)}(r),n.root=[];var a=[i],s=void 0,c=void 0,u=void 0,l=void 0;return r.forEach(function(r){function i(e){g[e]="root"===e?P.bottomTop:(n=t[e],o=r,function(e,t){var n=t.boundingY,o=t.boundingBottom,r=e.boundingY,i=e.boundingHeight;return o>e.boundingBottom&&n>r+i/2}(n,o)?P.bottomTop:P.topTop);var n,o}n[r.id]=[],o[r.id]=[],u=null,s=r.boundingX,c=s+r.boundingWidth,l=0;var p=a.length,d=[],g={},m=[],y=!1,w=!1,f=0;for(f=0;f<p;f++){var h=a[f];if(h.right<=s)d.push(h);else if(null===u?(u=f,y=!0):y=!1,(a.length-1===f||a[f+1].left>c)&&(l=f,w=!0),r.canBePushed&&h.ids.forEach(i),r.canPush&&(m=v(r.id,m,h,g,y,w,s,c)),w)break}if(delete g.root,function(t,r){if(!e.isEmpty(r)){t.id===E?(s=r,c=n,r=e.omitBy(s,function(t,n){return e.some(c[n],{type:P.bottomTop})})):(a=o,e(i=r).keys().flatMap(e.propertyOf(a)).filter({type:P.bottomTop}).map("source").forEach(function(e){delete i[e]}));var i,a,s,c;e.forEach(r,function(e,r){n[r].push({target:t.id,type:e}),o[t.id].push({source:r,type:e})})}}(r,g),r.canPush){var C=e.takeRight(a,p-l-1);a=e.compact(d).concat(m,C)}}),delete n.root,n}(C),T=e(C).mapValues("anchors").assign(l(S,C,w(o,c),s,c)).omit("parentNode").thru(e.partial(i.resolve,o,m,g,f,c)).value(),I=e.get(u,o.id);if(I){var b=(A=n,k=I,O=a,M=s,h(e.find(A,function(e){return t.displayedOnlyStructureUtil.getItemId(e.id)===k})||e.head(A),M,O));e.assign(T,b,function(n,o,r){var i=t.displayedOnlyStructureUtil,a={},s=e(n).map("id").map(t.displayedOnlyStructureUtil.getItemId).without(o).value();return e.forEach(r,function(t,n){e.forEach(s,function(o){var r=i.getOriginalId(n),s=i.getUniqueDisplayedId(r,o);a[s]=e.reduce(t,function(t,n){var r=i.getUniqueDisplayedId(i.getOriginalId(n.fromComp),o),a=i.getUniqueDisplayedId(i.getOriginalId(n.targetComponent),o),s=e.defaults({fromComp:r,targetComponent:a},n);return t.push(s),t},[])})}),a}(n,I,b))}var A,k,O,M;return T}function d(n,o,r,i,a,s){return p(function(n,o,r){return n.layout.anchors?function(n,o,r){var i,a,s=e.clone(o),c=e.find(o,{id:"SITE_HEADER"}),u=e.find(o,{id:"SITE_FOOTER"}),l=(i=n,a=r,(a?0:e.get(i,"layout.anchors.0.distance"))+t.boundingLayout.getBoundingY(c.layout)+t.boundingLayout.getBoundingHeight(c.layout)),p=e.findIndex(o,{id:"PAGES_CONTAINER"}),d=o[p],g=e.assign({},d.layout,{y:l,height:u.layout.y-l});return s[p]=e.assign({},d,{layout:g}),s}(n,o,r):function(n){var o=e.clone(n),r=e.find(n,{id:"SITE_FOOTER"}),i=e.maxBy(n,function(e){return f(e)?t.boundingLayout.getBoundingY(e.layout)+t.boundingLayout.getBoundingHeight(e.layout):-1e4});if(!i||!f(i))return o;var a=e.find(i.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:P.bottomTop}),s=t.boundingLayout.getBoundingY(i.layout)+t.boundingLayout.getBoundingHeight(i.layout),c=a.distance+s,u=e.findIndex(n,{id:"PAGES_CONTAINER"}),l=n[u],p=e.assign({},l.layout,{y:c,height:r.layout.y-c});return o[u]=e.assign({},l,{layout:p}),o}(o)}(o,n,r.forceMobileStructure),o,r,i,a,s)}function g(t,o,r,i,a){var s,c,u,l,d,g,m,y=n.getMasterPageChildrenSegregateByIsSection(t,o.forceMobileStructure),w=y[0],f=y[1],v=(s=w,c=f,u=t,l=o,d=r,g=i,m=a,p(e.filter(s,{id:"SITE_HEADER"}).concat(c),u,l,d,g,m,{SITE_HEADER:{canBePushed:!1}})),h=function(e){var t={};return e.headerPagesContainerLegacyGap&&(t.SITE_HEADER={targetComponent:"PAGES_CONTAINER",distance:e.headerPagesContainerLegacyGap}),e.pagesContainerFooterLegacyGap&&(t.PAGES_CONTAINER={targetComponent:"SITE_FOOTER",distance:e.pagesContainerFooterLegacyGap}),t}(o),C=e.mapValues(S(w,h),function(e){return[e]});return v.SITE_HEADER=v.SITE_HEADER.concat(C.SITE_HEADER),e.defaults(v,C)}function m(t,n,o,r,i,a){return function(t){var n=e.find(t,{id:"SITE_HEADER"});return!!n&&e.find(t,{id:"PAGES_CONTAINER"}).layout.y<n.layout.y+n.layout.height}(t)?d(t,n,o,r,i,a):!o.forceMobileStructure&&o.useDesktopSectionsLayout?g(n,o,r,i,a):p(t,n,o,r,i,a)}function y(n,o,r,i,a){var s=t.dataUtils.getChildrenData(n,o.forceMobileStructure);return e.isEmpty(s)?{}:"Document"===n.type?m(s,n,o,r,i,a):p(s,n,o,r,i,a)}function w(n,o){var i=n.layout,a=t.boundingLayout.getBoundingY(i),s=t.boundingLayout.getBoundingHeight(i),c=i.x?t.boundingLayout.getBoundingX(i):0;return{id:n.id,layoutAnchors:i.anchors,anchors:[],y:i.y,x:i.x,height:i.height,width:i.width,canBePushed:function(t,n){if(t.componentType){var o=r.get(n);if(!1===e.get(o,[t.componentType,"to","allow"]))return!1}return!0}(n,o),canPush:function(t,n){if(t.componentType){var o=r.get(n);if(!1===e.get(o,[t.componentType,"from","allow"]))return!1}return!0}(n,o),boundingY:a,boundingX:c,boundingBottom:a+s,boundingHeight:s,boundingWidth:t.boundingLayout.getBoundingWidth(i),canCreateAnchorsToComp:(u=n,e.includes(A,u.id)||!(e.includes(I,u.id)||u.layout.fixedPosition||T.isVerticallyDocked(u.layout))),styleId:n.styleId,skin:n.skin,componentType:n.componentType};var u}function f(t){return e.find(t.layout.anchors,{
targetComponent:"PAGES_CONTAINER",type:P.bottomTop})}function v(t,n,o,r,i,a,s,c){var u=e.clone(n);i&&u.push({ids:o.ids,left:o.left,right:s-1});var l={ids:[t],left:Math.max(s,o.left),right:Math.min(c,o.right)};o.ids.filter(function(e){return"root"!==e&&r[e]===P.topTop}).forEach(function(e){l.ids.push(e)});var p=e.last(u);return p&&!e.isEqual(p.ids,l.ids)?u.push(l):p&&(p.right=l.right),a&&u.push({ids:o.ids,left:c+1,right:o.right}),u}function h(n,o,r,i){r=r||{};for(var a=[n],s=void 0,c=void 0,u=void 0,l={};a.length;)u=y(s=a.pop(),r,o,null,i),e.assign(l,u),c=t.dataUtils.getChildrenData(s,r.forceMobileStructure),e.has(i,s.id)||Array.prototype.push.apply(a,c);return l}function C(t,n,o){return s(P.bottomTop,t,n,0,function(t,n,o){var r=e.get(o,t);return r&&r.targetComponent===n?r.distance:0}(t,n,o))}function S(t,n){for(var o=e.map(t,"id"),r=void 0,i=0,a={};o[i+1];){r=o[i];var c=o[i+1];a[r]=C(r,c,n),i++}a[r=o[i]]=(u=r,s(P.bottomParent,u,"masterPage",0));var u;return a}var T=t.layoutUtils,P=a.anchorsTypes,I=["BACK_TO_TOP_BUTTON"],b=["PAGES_CONTAINER"],A=["SITE_HEADER","SITE_FOOTER","PAGES_CONTAINER"],E="parentNode";return{createPageAnchors:function(e,t,n,o){return h(e,t,n,o)},createMobileTightSectionsAnchors:function(t){var o=n.getMasterPageSections(t,!0);return e.mapValues(S(o),function(e){return[e]})},createMobileTightMasterPageAnchors:function(t,o,r){var i=h(t,o,r),a=n.getMasterPageSections(t,!0),s=S(a),c=e.map(a,"id");return e.forEach(s,function(t,n){i[n]=function(t,n,o,r){if(!e.includes(t,n))return o;var i=t.concat(["masterPage"]);return e.reject(o,function(t){return e.includes(i,t.targetComponent)}).concat([r])}(c,n,i[n],t)}),i},createChildrenAnchors:function(e,t,n,o,r){return y(e,n||{},t,o,r)}}}),define("coreUtils/core/layoutAnchorsUtils",["lodash","coreUtils/core/anchorsGenerator","coreUtils/core/skinAnchorsMetaData"],function(e,t,n){"use strict";return{createPageAnchors:t.createPageAnchors,createMobileTightMasterPageAnchors:t.createMobileTightMasterPageAnchors,createMobileTightSectionsAnchors:t.createMobileTightSectionsAnchors,createChildrenAnchors:t.createChildrenAnchors,getNonAnchorableHeightForSkin:n.getNonAnchorableHeightForSkin}}),define("coreUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib","warmupUtils","experiment"],function(e,t,n,o){"use strict";function r(e){var t=parseInt(e,10);return isNaN(t)?0:t}function i(e){return r(e.height.WIX_ADStop)}function a(e){if(!e.measureMap)return 1/0;var t=e.measureMap,n=i(t),r=void 0;if(o.isOpen("displayWixAdsNewVersion",e))r=t.height.masterPage+n+e.renderFlags.extraSiteHeight;else{var a=t.height.WIX_ADSbottom||0;r=t.height.masterPage+a+n+e.renderFlags.extraSiteHeight}var s=t.height.screen;return Math.max(r-s,0)}function s(e,t){return Math.min(e,a(t))}function c(t,n,o){var r=o.getPageData(n,["structure",o.getViewMode()]);return e.find(r,function(r){var i=r.connectionQuery,a=i&&o.getDataByQuery(i,n,o.dataTypes.CONNECTIONS);return a&&e.find(a.items,{role:t})})}function u(t,n){var o=0;return t===w.PAGE_ANCHORS.TOP_ANCHOR_ID?o=f:t===w.PAGE_ANCHORS.BOTTOM_ANCHOR_ID?o=r(e.get(n.measureMap,["height","masterPage"])):t&&(o=function(t,n){var o=0,r=n.measureMap;if(r&&t){var a=t.compId,s=y.isHeaderFixedPosition(n),c=r.top[a],u=r.absoluteTop[a],l=s?c:u,p=!n.isMobileView()||s?0:i(r);o=e.isFinite(l)?l+p:0}return o}(n.getDataByQuery(t,n.getPrimaryPageId()),n)),{x:0,y:o,anchorQuery:t}}function l(t,n,o){var r=t.getPageDataMap(n,t.dataTypes.DATA);if(!r)return[];var i=p(t.getPrimaryPageId(),o),a=t.getPageData(n,["structure",t.getViewMode()]);return[i].concat(_toConsumableArray(e(r).filter({type:"Anchor"}).sortBy(function(t){return e.get(a,[t.compId,"layout","y"])}).value()))}function p(e,t){return{compId:w.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:w.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function d(t,n){n=n||[];var o=l(t,t.getPrimaryPageId());if(!o.length)return o;var r=e.reject(o,function(t){return e.includes(n,t.compId)});return e.size(r)?r:[o[0]]}function g(t,n){return e(n).map(function(n){var o=u(n.id,t),r=n.id,i=n.compId;return e.assign(o,{id:r,compId:i})}).sortBy("y").value()}function m(e,t,n){return{activeAnchorComp:e,index:t,total:n}}var y=n.siteDataUtils,w=t.siteConstants,f=0;return{getPageTopAnchor:p,calcAnchorScrollToPosition:function(t,n){var o=n.getSiteData(),r=u(function(t,n){var o=void 0;if(!e.startsWith(t,"dataItem")&&n){var r=n.getSiteData(),i=c(t,r.getPrimaryPageId(),r);i&&(o=i.dataQuery)}return o||t}(t,n),o);return r.y=s(r.y,o),r},getPageAnchors:l,getActiveAnchor:function(t,n,o){if(!t.measureMap)return null;var r=g(t,d(t,o)),i=function(t,n){if(e.every(t,{y:0}))return null;for(var o=null,r=0;r<t.length;r++){var i=t[r];if(!(n>=i.y))break;o=i}return o?m(o,r-1,t.length):null}(r,n);return i&&a(t)<=n?m(e.last(r),r.length-1,r.length):i},getAnchorsDataSortedByY:function(t,n){if(!t.measureMap)return[];var o=g(t,d(t));return r=o,i=n,e.map(r,function(e,t){var n=m(e,t,r.length);return n.isActive=e.y<=Math.ceil(i),n});var r,i},getAnchor:c,normalizeYOffset:s,isSpecialAnchor:function(e){return e===w.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===w.PAGE_ANCHORS.TOP_ANCHOR_ID},getSortedAnchorsByY:g,SCROLL_PAGE_TOP_Y_POS:-99999}}),define("coreUtils/core/renderUtils",["lodash"],function(e){"use strict";return{mapInAlphabeticalOrder:function(t,n,o){var r=o?e.bind(n,o):n,i=e.keys(t).sort(),a=e.reduce(i,function(e,n){return e[n]=t[n],e},{});return e.map(a,r)},noAppsOnSite:function(t){return e.isEmpty(t.pagesPlatformApplications)},hasPlatformAppOnRenderedRoots:function(t,n){n=n.concat("masterPage");var o=t.pagesPlatformApplications;return e.some(o,function(t){var o=e.keys(t);return e.some(n,function(t){return e.includes(o,t)})})}}}),define("coreUtils/core/clientSpecMapUtils",["lodash"],function(e){"use strict";return{getMainSectionWidgetData:function(t){return e.find(e.get(t,"widgets"),function(t){return e.get(t,"appPage.name")&&!e.get(t,"appPage.hidden")})}}}),define("coreUtils/core/componentVisibility",["lodash"],function(e){"use strict";var t=[];return{isComponentVisible:function(n){return e.every(t,function(e){return e(n)})},registerPlugin:function(e){t.push(e)}}}),define("coreUtils/core/fileUploadManager",["lodash"],function(e){"use strict";function t(e,t,o){var s=a[e.fileType],c=new FormData;c.append("upload_token",t),c.append("media_type",s),c.append("file",e.file),c.append("ns",i);var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&function(e,t){var o=JSON.parse(t.response);200===t.status?(e.onSuccess(o),n()):(r=!1,e.onFail(o))}(e,u)},u.open("POST",o),u.send(c)}function n(n){0!==o.length?function(e,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){var n=JSON.parse(o.response);n.error_code?(r=!1,e.onFail(n)):t(e,n.upload_token,n.upload_url)}};var i=n?"https://files.wix.com/site/media/files/upload/url?media_type=picture":"https://files.wix.com/files/upload/url?media_type=picture";o.open("GET",i),o.setRequestHeader("Authorization",e.authorizationToken),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Content-Type","application/json"),o.send(null)}(e.pullAt(o,0)[0],n):r=!1}var o=[],r=!1,i="_WixCodeAnonymUpload",a={Image:"picture",Document:"document"};return{uploadFile:function(e,t,i,a,s,c){if(!t)throw new Error("No upload authorization token given!");o=o.concat({file:e,authorizationToken:t,fileType:i,onSuccess:a,onFail:s}),r||(n(c),r=!0)}}}),define("coreUtils/core/jsonUpdaterRegistrar",["lodash","warmupUtils"],function(e,t){"use strict";var n={},o={};return t.sessionFreezer.freeze(n),t.sessionFreezer.freeze(o),{registerLayouterComp:function(e,t){o[e]=t},getCompLayouter:function(e){return o[e]},getCompPlugin:function(e){return n[e]},registerPlugin:function(e,t){n[e]=t}}}),define("coreUtils/core/fullToDisplayedJson",["lodash","warmupUtils","coreUtils/core/jsonUpdaterRegistrar"],function(e,t,n){"use strict";function o(t,n){return t=t||{},e.omitBy(t[n],function(e){return!e})}function r(t,n){var o=e.transform(t,function(t,o){r=o,i=n,!e.isEmpty(i)&&e.every(r.modeIds,function(e){return i[e]})&&e.assign(t,o);var r,i},{});return delete o.modeIds,o}function i(e,t){var n=t&&e.mobileComponents?"mobileComponents":"children";return e[n]?n:"components"}function a(o,a,c,u){var l=i(a,!1),p=i(a,!0),d=a.modes,g=r(e.get(a,["modes","overrides"])||[],o);if(function(t,n){var o=!0;if(t){var r=!t.isHiddenByModes;o=n&&!e.isUndefined(n.isHiddenByModes)?!n.isHiddenByModes:r}return o}(d,g)){var m=t.objectUtils.cloneDeep(e.omit(a,["modes",l,p])),y=n.getCompPlugin(a.componentType);return y&&c&&(a=y(a,c,u),m.layout=a.layout),d&&(d.overrides&&(g=e.omit(g,"isHiddenByModes"),e.assign(m,g)),d.definitions&&e.set(m,["modes","definitions"],d.definitions)),s(m,l,o,a,c,u),l!==p&&s(m,p,o,a,c,u),m}}function s(t,n,o,r,i,s){e.isUndefined(r[n])||(t[n]=e(r[n]).map(function(e){return a(o,e,i,s)}).compact().value())}function c(n,r,i,s){var c=o(r,n.structure.id),u=t.objectUtils.cloneDeep(e.omit(n,["structure","data"]));return u.structure=a(c,n.structure,i,s),u.data=t.objectUtils.cloneDeep(n.data),u}return{getDisplayedJson:function(t,n,r,i,s){var u={};if(t)if(g=t,e.isUndefined(g.componentType)&&(d=t,"Document"!==e.get(d,"type")))p=t,u=e.isUndefined(p.structure)?function(t,n,o,r){n=n||{};var i={};return e.forEach(t,function(e,t){i[t]=c(e,n,o,r)}),i}(t,n,i,s):c(t,n,i,s);else{var l=o(n,r);u.structure=a(l,t,i,s)}var p,d,g;return u},applyModesOnSerializedStructure:function(e,t){return a(t=t||{},e)}}}),define("coreUtils/core/mobileUtils",["warmupUtils"],function(e){"use strict";var t={26:26,27:26,28:26,29:27,30:27,31:27,32:28,33:28,34:28,35:29,36:29,37:29,38:30,39:30,40:30,41:31,42:31,43:31,44:32,45:32,46:32,47:33,48:33,49:33,50:34,51:34,52:34,53:35,54:35,55:35,56:36,57:36,58:36,59:37,60:37,61:37,62:38,63:38,64:38,65:39,66:39,67:39,68:40,69:40,70:40,71:41,72:41,73:41,74:42,75:42,76:42,77:43,78:43,79:43,80:44,81:44,82:44,83:45,84:45,85:45,86:46,87:46,88:46,89:47,90:47,91:47,92:48,93:48,94:48,95:49,96:49,97:49,98:50,99:50,100:50};return{getMobileFontSize:function(e){var n=Math.round(e);return n<12?12:n<=14?n+1:n<=25?n:n<=100?t[n]:50},convertFontSizeToMobile:function(e,t){return t*this.getMobileFontSize(e)},getMinFontSize:function(){return 12},buildDeepStructure:e.flatStructureUtil.buildDeepStructure}}),define("coreUtils/core/modesUtils",["lodash","warmupUtils"],function(e,t){"use strict";function n(e){return e.settings.scrollPos}function o(e){return e.settings.width}function r(e){return e.type===t.siteConstants.COMP_MODES_TYPES.DEFAULT?1:2}function i(t,n,o){return e.find(t,function(e){return n[e.modeId]})||e(t).sortBy(o).head()}function a(t,n){return e.filter(t,function(e){return n[e.modeId]})}function s(e){return{modeType:e.type}}function c(t,n,o,r){var i=e.get(t,"modes.definitions");if(e.isEmpty(i))return{};var c,u=e.map(i,"modeId"),l=e.pick(n,u),p=(c=i,e.groupBy(c,function(e){return m[e.type]}));return e.reduce(p,function(n,i,c){var u=function(t,n,o,r,i,s){var c=(y[t]||a)(n,o,r,i,s);return e.isArray(c)?c:[c]}(c,i,l,t,o,r);return e.forEach(u,function(e){n[e.modeId]=s(e)}),n},{})}function u(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&o.isHiddenByModes}function l(t,n){var o=e.find(t,function(t){return e.isEqual([n],t.modeIds)});return o&&!1===o.isHiddenByModes}var p="HOVER",d="SCROLL",g="WIDTH",m={};m[t.siteConstants.COMP_MODES_TYPES.DEFAULT]=p,m[t.siteConstants.COMP_MODES_TYPES.HOVER]=p,m[t.siteConstants.COMP_MODES_TYPES.SCROLL]=d,m[t.siteConstants.COMP_MODES_TYPES.WIDTH]=g,m[t.siteConstants.COMP_MODES_TYPES.APPLICATIVE]="APPLICATIVE";var y={};return y[p]=function(n,o,a,s,c){return s?function(n,o,a,s){var c=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),u=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(!o[c.modeId]){var l=a.propertyQuery,p=l&&s&&s[l];return p&&p.mobileDisplayedModeId?e.find(n,{modeId:p.mobileDisplayedModeId}):u}return i(n,o,r)}(n,o,a,c):i(n,o,r)},y[d]=function(e,t){return i(e,t,n)},y[g]=function(e,t){return i(e,t,o)},{getActiveModeData:s,getActiveComponentModeIds:function(t,n){return e(t).mapValues(function(t,o){return e.some(n,{modeId:o})}).pickBy().value()},getModeChanges:function(t,n){t=t||{},n=n||{};var o=e({}).assign(t,n).keys().value();return e.transform(o,function(e,o){var r=t[o],i=n[o];r&&!i?e[o]=!1:!r&&i&&(e[o]=!0)},{})},isCompVisibleAfterRemovalFromMode:function(n,o,r,i,a){var s=n.componentStructure.getModes(r),c=o.isExist(s)&&o.get(s);if(!c)return!0;var p=n.componentStructure.getModesDefinitions(i),d=o.get(p),g=t.objectUtils.cloneDeep(c),m=e.findIndex(c.overrides,function(t){return e.isEqual(t.modeIds,[a])});return g.overrides=g.overrides||[],m>=0?g.overrides[m].isHiddenByModes=!0:g.overrides.push({modeIds:[a],isHiddenByModes:!0}),!function(n,o){var r=[],i=[],a=[],s=[];e.forEach(n,function(e){switch(e.type){case t.siteConstants.COMP_MODES_TYPES.DEFAULT:case t.siteConstants.COMP_MODES_TYPES.HOVER:r.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.SCROLL:i.push(e.modeId);break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:a.push(e.modeId);break;default:s.push(e.modeId)}});var c=e.partial(u,o.overrides),p=e.partial(l,o.overrides);return o.isHiddenByModes?r.length&&!e.some(r,p)||i.length&&!e.some(i,p)||a.length&&!e.some(a,p)||s.length&&!e.some(s,p):r.length&&e.every(r,c)||i.length&&e.every(i,c)||a.length&&e.every(a,c)||s.length&&e.every(s,c)}(d,g)},getActiveModesForActivationChange:function(n,o,r,i){var a=e.clone(o),c=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.SCROLL}),u=e.filter(n,{type:t.siteConstants.COMP_MODES_TYPES.WIDTH}),l=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.DEFAULT}),p=e.find(n,{type:t.siteConstants.COMP_MODES_TYPES.HOVER});if(r)switch(a[r.modeId]=s(r),r.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:e.forEach(c,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:e.forEach(u,function(e){e.modeId!==r.modeId&&delete a[e.modeId]});break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:delete a[p.modeId];break;case t.siteConstants.COMP_MODES_TYPES.HOVER:l&&delete a[l.modeId]}if(i){var d=void 0;switch(delete a[i.modeId],i.type){case t.siteConstants.COMP_MODES_TYPES.SCROLL:r&&r.type===t.siteConstants.COMP_MODES_TYPES.SCROLL||(d=e.head(c));break;case t.siteConstants.COMP_MODES_TYPES.WIDTH:r&&r.type===t.siteConstants.COMP_MODES_TYPES.WIDTH||(d=e.head(u));break;case t.siteConstants.COMP_MODES_TYPES.DEFAULT:d=p;break;case t.siteConstants.COMP_MODES_TYPES.HOVER:l&&(d=l)}d&&(a[d.modeId]=s(d))}return a},resolveCompActiveModesRecursive:function n(o,r,i,a){var s=c(o,r,i,a),u=t.dataUtils.getChildrenData(o,!1);return e.reduce(u,function(t,o){var s=n(o,r,i,a);return e.assign(t,s)},s),s||{}}}}),define("coreUtils/core/structureDimensions",["lodash","warmupUtils"],function(e,t){"use strict";function n(t){var n={};return n[t.id]=e.pick(t.layout,["x","y","width","height"]),n}function o(t,n,i,a,s){var c=n[a],u=t.components||t.children;e.forEach(u,function(e){n[e.id]=r.getPositionAndSize(e.layout,c,i,s),o(e,n,i,e.id,s)})}var r=t.positionAndSize;return{createDimensionsMap:function(t,i,a,s){return s?function(t,i,a){var s=n(t),c=s[t.id];return e.forEach(t.mobileComponents,function(e){s[e.id]=r.getPositionAndSize(e.layout,c,i,a),o(e,s,i,e.id,a)}),s}(t,i,a):function(e,t,r){var i=n(e);return o(e,i,t,e.id,r),i}(t,i,a)}}}),define("coreUtils/core/stubPageUtil",["lodash"],function(e){"use strict";var t=["wysiwyg.viewer.components.tpapps.TPAGluedWidget","wysiwyg.viewer.components.tpapps.TPASection","wysiwyg.viewer.components.tpapps.TPAMultiSection","wysiwyg.viewer.components.tpapps.TPAWidget","mobile.core.components.Page","wixapps.integration.components.AppPage","mobile.core.components.MasterPage"],n=function n(o,r,i){var a=o.components.getChildren(i);if(e.isEmpty(a)){var s=r.get(o.getInnerPointer(i,["componentType"]));return e.includes(t,s)}var c=e.filter(a,function(e){return n(o,r,e)});return a.length!==c.length&&function(t,n,o,r){var i=t.components.getChildrenContainer(n),a=e.map(o,function(e){return r.get(t.getInnerPointer(e,["id"]))});r.set(i,a)}(o,i,c,r),!e.isEmpty(c)};return{COMPONENTS_TO_KEEP_IN_STUB:t,stubifyPage:function(e,t,o,r,i){e.runImmediately(function(){var e=o.components.getPage(i,r);n(o,t,e)})}}}),define("coreUtils/core/socialCounterDatabaseAPI",["lodash","warmupUtils"],function(e,t){"use strict";var n={defaultQuerySuccessCallback:function(){},defaultQueryCollectFailureCallback:function(){},getLikesForPostsList:function(e,n,o){var r={postsList:e};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-feed/",crossDomain:!0,data:r,contentType:"application/json",dataType:"json",success:n||this.defaultQuerySuccessCallback,error:o||this.defaultQueryCollectFailureCallback})},getAllCountersForPost:function(e,n,o,r){var i={storeId:e,postId:n};t.ajaxLibrary.ajax({type:"GET",url:"https://www.wix.com/_api/blog-social-counters/query-post/",crossDomain:!0,data:i,contentType:"application/json",dataType:"json",success:o||this.defaultQuerySuccessCallback,error:r||this.defaultQueryCollectFailureCallback})},updateCounter:function(n,o,r,i,a,s,c){"likes"===n&&this.toggleUserLike(a);var u=o;e.isNil(u)||(u=u.substring(0,1400));var l={storeId:i.datastoreId,postId:a,counterType:n,counterName:u,counterValue:r};t.ajaxLibrary.ajax({url:"https://www.wix.com/_api/blog-social-counters/collector/",crossDomain:!0,type:"POST",data:l,dataType:"json",contentType:"application/json",success:s||this.defaultQuerySuccessCallback,error:c||this.defaultQueryCollectFailureCallback})},updateCategoryTagSearchesCounter:function(e,t,n){this.updateCounter(e,t,n)},toggleUserLike:function(t){var n=JSON.parse(window.localStorage.getItem("likedBlogPosts"))||{};!1!==n[t]&&e.has(n,t)?n[t]=!1:n[t]=!0,window.localStorage.setItem("likedBlogPosts",JSON.stringify(n))}};return{getAllCountersForPost:n.getAllCountersForPost,updateCounter:n.updateCounter,toggleUserLike:n.toggleUserLike,updateCategoryTagSearchesCounter:n.updateCategoryTagSearchesCounter}}),define("coreUtils/core/socialShareHandler",["lodash","warmupUtils","coreUtils/core/socialCounterDatabaseAPI"],function(e,t,n){"use strict";function o(e,t){var n=e,o=n.split("#!");return o.length>1&&(o[1]=decodeURIComponent(o[1]),n=o.join("#!")),t&&(n=n.replace("#!","/#!")),encodeURIComponent(n)}function r(t){return t?encodeURIComponent(e.unescape(t)):""}function i(t){return t?encodeURIComponent(e.unescape(t)):""}function a(e,n){var o=e||"";return e&&!t.urlUtils.isExternalUrl(e)&&(o=n.getMediaFullStaticUrl(e)),o=encodeURIComponent(o)}function s(e){var t=y;return t+=o(e.url)}function c(e,t){var n=w;return n+=o(e.url),n+="&Title="+r(e.title),n+="&ImageURL="+a(e.imageUrl,t)}function u(e,t){var n=f;return n+=o(e.url),n+="&media="+a(e.imageUrl,t),n+="&description="+r(e.title)}function l(e){var t=v;t+=o(e.url);var n;return t+="&text="+r(e.title)+(n=e.hashTags,n?" "+(n=n.replace(/#/g,encodeURIComponent("#"))):"")+encodeURIComponent("\n")}function p(e){var t=h;return t+=o(e.url),t+="&title="+r(e.title),t+="&description="+i(e.description)}function d(e){var t=C;return t+=r(e.title),t+=" - "+o(e.url)}function g(e){var t=S;return t+=o(e.url),t+="&title="+r(e.title)}function m(e){var t="mailto:?";return t+="&subject="+r(e.title),t+="&body="+i(e.description)}var y="https://plus.google.com/share?url=",w="http://www.fancy.com/fancyit/fancy?ItemURL=",f="http://pinterest.com/pin/create/button/?url=",v="https://twitter.com/intent/tweet?url=",h="http://www.facebook.com/sharer.php?u=",C="whatsapp://send?text=",S="https://www.linkedin.com/shareArticle?mini=true&url=";return{handleShareRequest:function(t,o,r){var i,a,y=(i=o,a=t.getSiteData(),{google:s,fancy:c,pinterest:u,twitter:l,facebook:p,whatsapp:d,email:m,linkedin:g}[i.service](i,a)||"");o.addDeepLinkParam&&(y=function(t,n){var o=t.split("#"),r=e.includes(t,"?")?"&":"?";return o[0]+=r+n,o.join("#")}(y,"deeplink_referrer=socialB_"+o.service)),"email"!==o.service?(r||n.updateCounter("shares",o.service,1,o.storeId,o.postId),t.openPopup(y,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")):window.location.href=y},shortenURL:function(e,n,o,r){t.ajaxLibrary.ajax({url:"https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I",type:"POST",contentType:"application/json",data:'{"longUrl": "'+e+'"}',timeout:n||0,async:!1,success:function(e){o(e.id)},error:r})}}}),define("coreUtils/core/compsToPackages",["lodash","experiment"],function(e,t){"use strict";function n(n){var o=e(l).filter(function(e){return!t.isOpen(e.experiment,n)}).map("compType").value();return e.omit(u,o)}function o(o,r){var i=n(r);if(t.isOpen("selectiveDialogs",r)){var a=i[o];return a?e.isArray(a)?a:[a]:[]}var s=e.includes(o,"tpapps")?["dialogs"]:[],c=i[o];return c?s.concat(c):s}function r(t){return e.zipObject(t,e.map(t,function(t){return c[t]||e.noop}))}function i(){return e(n()).values().flatten().uniq().value()}var a=["wixappsCore","container","textArea","matrixGallery","slideShowGallery","comboBoxInput","dialogs"],s=a.concat(["table","messageView","wixappsClassics","mediaRichText"]),c={facebookShare:function(e,t){return t("wysiwyg.viewer.components.FacebookShare",e,!0)},svgShape:function(e,t){var n=e.svgShape,o=e.vectorImage,r=e.popupCloseIconButton;t("wysiwyg.viewer.components.svgshape.SvgShape",n),t("wysiwyg.viewer.components.VectorImage",o),t("wysiwyg.viewer.components.PopupCloseIconButton",r)},imageZoom:function(e,t){var n=e.imageZoom,o=e.imageZoomDisplayer,r=e.mediaZoom,i=e.mobileMediaZoom,a=e.touchMediaZoom,s=e.touchMediaZoomItem;t("wysiwyg.components.imageZoom",n),t("wysiwyg.components.ImageZoomDisplayer",o),t("wysiwyg.viewer.components.MediaZoom",r),t("wysiwyg.viewer.components.MobileMediaZoom",i),t("wysiwyg.viewer.components.TouchMediaZoom",a),t("wysiwyg.viewer.components.TouchMediaZoomItem",s)},slideShowGallery:function(e,t){return t("wysiwyg.viewer.components.SlideShowGallery",e,!0)},"santa-components/popover":function(e,t){return t("wysiwyg.viewer.components.Popover",e)}},u={"wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.PopupCloseIconButton":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.AdminLoginButton":"adminLoginButton","wysiwyg.viewer.components.WTwitterFollow":"wTwitterFollow","wysiwyg.viewer.components.WFacebookComment":"facebookComments","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"verticalAnchorsMenu","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenuItem":"verticalAnchorsMenu","wysiwyg.viewer.components.FacebookShare":"facebookShare","wysiwyg.viewer.components.VKShareButton":"vKShareButton","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youTubeSubscribeButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skypeCallButton","wysiwyg.viewer.components.inputs.FileUploader":"fileUploader","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinItPinWidget","wysiwyg.viewer.components.PopupCloseTextButton":"popupCloseTextButton","wysiwyg.viewer.components.Displayer":"displayer","wysiwyg.viewer.components.MatrixGallery":["matrixGallery","imageZoom"],"wixapps.integration.components.Area":"container","wysiwyg.viewer.components.VerticalRepeater":"container","wysiwyg.viewer.components.WSiteStructure":"container","wysiwyg.viewer.components.SiteRegionContainer":["siteRegionContainer","container"],"mobile.core.components.Container":"container","wysiwyg.viewer.components.Repeater":["container","repeater"],"wysiwyg.viewer.components.inputs.RadioButton":"radioButton","wysiwyg.viewer.components.inputs.RadioGroup":["radioButton","radioGroup"],"wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.background.bgMedia":"backgroundCommon","wysiwyg.viewer.components.background.bgImage":"backgroundCommon","wysiwyg.viewer.components.background.html5Video":"backgroundCommon","wysiwyg.viewer.components.background.youtubeVideo":"backgroundCommon","wysiwyg.viewer.components.background.iframeVideo":"backgroundCommon","wysiwyg.viewer.components.background.bgOverlay":"backgroundCommon","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.viewer.components.Calendar":"datePicker","wysiwyg.viewer.components.Month":"datePicker","wysiwyg.viewer.components.Day":"datePicker","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"subscribeForm","wixapps.integration.components.inputs.TextArea":"textArea","wysiwyg.viewer.components.inputs.TextAreaInput":"textArea","wysiwyg.viewer.components.LoginSocialBar":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.LoginSocialButton":["loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Icon":"icon","wysiwyg.viewer.components.GoogleMap":"googleMap","wysiwyg.viewer.components.SoundCloudWidget":"soundCloudWidget","wysiwyg.viewer.components.PayPalButton":"paypalButton","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.LinkBar":"linkBar","wysiwyg.viewer.components.LinkBarItem":"linkBar","wysiwyg.viewer.components.inputs.ComboBoxInput":"comboBoxInput","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyPlayer","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.viewer.components.TwitterFeed":"twitterFeed","wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":"backToTopButton","wysiwyg.viewer.components.svgPrimitive":"svgCommon","wysiwyg.viewer.components.WFacebookLike":"facebookLike","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebookLikeBox","wysiwyg.viewer.components.FlickrBadgeWidget":"flickrBadgeWidget","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.mobile.TinyMenu":["tinyMenu","loginSocialBar","icon","svgShape"],"wysiwyg.viewer.components.Group":"container","wysiwyg.viewer.components.FormContainer":"container","wysiwyg.viewer.components.Popover":"santa-components/popover","wysiwyg.viewer.components.WGooglePlusOne":"wGooglePlusOne","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterestPinIt","wysiwyg.viewer.components.PinterestFollow":"pinterestFollow","wysiwyg.viewer.components.WTwitterTweet":"wTwitterTweet","wysiwyg.viewer.components.AudioPlayer":["audioPlayer","audioCommon"],"wysiwyg.viewer.components.LoginButton":["loginButton","dialogs"],"wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.MediaPlayer":"mediaPlayer","wysiwyg.viewer.components.MediaOverlayControls":["mediaControls","svgShape"],"wysiwyg.viewer.components.MediaControls":"mediaControls","wysiwyg.viewer.components.MediaControlPlay":"mediaControls","wysiwyg.viewer.components.MediaControlFullscreen":"mediaControls","wysiwyg.viewer.components.MediaControlVolume":"mediaControls","wysiwyg.viewer.components.MediaControlProgress":"mediaControls","wysiwyg.viewer.components.MediaControlTime":"mediaControls","wysiwyg.viewer.components.MediaControlStoryboard":"mediaControls","wysiwyg.viewer.components.SlideShowGallery":["slideShowGallery","imageZoom"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["singleAudioPlayer","audioCommon"],"wysiwyg.viewer.components.QuickActionBar":"quickActionBar","wysiwyg.viewer.components.QuickActionBarItem":"quickActionBar","wysiwyg.viewer.components.BoxSlideShowSlide":"boxSlideShowSlide","wysiwyg.viewer.components.StripContainerSlideShowSlide":["stripSlideShowSlide","boxSlideShowSlide"],"wysiwyg.viewer.components.PopupContainer":"popupContainer","wysiwyg.viewer.components.StripContainer":"stripContainer","wysiwyg.viewer.components.StripColumnsContainer":"stripColumnsContainer","wysiwyg.common.components.exitmobilemode.viewer.ExitMobileMode":"exitMobileModeButton","tpa.viewer.components.Masonry":"tpaGalleries","tpa.viewer.components.Accordion":"tpaGalleries","tpa.viewer.components.Impress":"tpaGalleries","tpa.viewer.components.Freestyle":"tpaGalleries","tpa.viewer.components.Collage":"tpaGalleries","tpa.viewer.components.Honeycomb":"tpaGalleries","tpa.viewer.components.StripShowcase":"tpaGalleries","tpa.viewer.components.StripSlideshow":"tpaGalleries","tpa.viewer.components.Thumbnails":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"tpaGalleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"tpaGalleries","wysiwyg.viewer.components.MessageView":"messageView","wysiwyg.viewer.components.FlashComponent":["flashComponent","swfobject"],"wysiwyg.viewer.components.BoxSlideShow":"stripSlideShow","wysiwyg.viewer.components.StripContainerSlideShow":"stripSlideShow","wysiwyg.viewer.components.MobileActionsMenu":"mobileActionsMenu","wysiwyg.components.imageZoom":"imageZoom","wysiwyg.viewer.components.MediaZoom":"imageZoom","wysiwyg.components.ImageZoomDisplayer":"imageZoom","wysiwyg.viewer.components.MobileMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoom":"imageZoom","wysiwyg.viewer.components.TouchMediaZoomItem":"imageZoom","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.common.components.disquscomments.viewer.DisqusComments":"disqusComments","wysiwyg.viewer.components.inputs.Checkbox":"checkbox","wixapps.integration.components.Icon":"wixappsCore","wixapps.integration.components.ImageButton":"wixappsCore","wixapps.integration.components.Toggle":"wixappsCore","wysiwyg.viewer.components.Grid":["gridComponent","ag-grid"],"wysiwyg.viewer.components.Table":"table","wysiwyg.viewer.components.dialogs.NotificationDialog":"dialogs","wysiwyg.viewer.components.dialogs.EnterPasswordDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.SignUpDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.MemberLoginDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.RequestPasswordResetDialog":"dialogs","wysiwyg.viewer.components.dialogs.siteMemberDialogs.ResetPasswordDialog":"dialogs","wysiwyg.viewer.components.inputs.ErasableTextInput":"dialogs","wysiwyg.components.viewer.inputs.InputWithValidation":"dialogs","wysiwyg.viewer.components.SliderGallery":"imageZoom","wysiwyg.viewer.components.LanguageSelector":"languageSelector","wysiwyg.viewer.components.MediaContainer":"mediaContainer","wysiwyg.viewer.components.HoverBox":"mediaContainer","wysiwyg.viewer.components.MediaBox":"mediaContainer","wysiwyg.viewer.components.Column":"mediaContainer","wysiwyg.viewer.components.EbayItemsBySeller":"ebayItemsBySeller","platform.components.AppController":"controller","wysiwyg.viewer.components.MediaRichText":"mediaRichText","wysiwyg.viewer.components.ImageButtonWithText":"wixappsCore","wysiwyg.viewer.components.inputs.ColorOption":"wixappsClassics","ecommerce.integration.components.MobileColorOption":"wixappsClassics","wysiwyg.common.components.NumericStepper":"wixappsClassics","wysiwyg.common.components.inputs.OptionsListInput":"wixappsClassics","wysiwyg.common.components.inputs.SelectOptionsList":"wixappsClassics","wysiwyg.viewer.components.inputs.TextOption":"wixappsClassics","ecommerce.integration.components.MobileTextOption":"wixappsClassics","wysiwyg.viewer.components.WixFreemiumBanner":"wixFreemiumBanner","wixapps.integration.components.AppPartZoom":s,"wixapps.integration.components.AppPart":s,"wixapps.integration.components.AppPart2":a.concat("wixappsBuilder"),"wixui.RichTextBox":"richTextBox","wixui.ToggleSwitch":"toggleSwitch","wixui.Tags":"tags","wixui.Pagination":"pagination","wixui.Slider":"slider","wixui.RatingsDisplay":"ratingsDisplay"},l=[{experiment:"richTextIE11",compType:"wixui.RichTextBox"}];return{compToPackages:o,getPackagesForComponent:function(e,t){return r(o(e,t))},prefetchComponents:function(t,n,r){var i=[],a=!1
;return function s(c){var u=c.componentType;if(u){var l=o(u);if(l[0]&&i.push(l),!a&&c.dataQuery&&"wixapps.integration.components.AppPart"===u){var p=e.get(n,"rendererModel.clientSpecMap",{}),d=e.get(t,"data.document_data",{}),g=c.dataQuery;"#"===g[0]&&(g=g.substring(1));var m=p[d[g].appInnerID];"wixapps"===m.type&&"blog"===m.packageName&&(a=!0)}}var y=c.children,w=r?c.mobileComponents:c.components;w&&(y=(y||[]).concat(w)),e.forEach(y,s)}(t.structure),(i=e(i).flatten().uniq().value()).length&&requirejs(i,e.noop),a},all:i,getAllPackagesForAllComponents:function(){return r(i())},getCallbackForRequiredPackage:function(t){return c[t]||e.noop}}}),define("coreUtils",["lodash","coreUtilsLib","warmupUtils","coreUtils/components/componentUtils","coreUtils/core/anchorTagsGenerator","coreUtils/core/linkRenderer","coreUtils/core/linkTypes","coreUtils/core/linkUtils","coreUtils/core/menuUtils","coreUtils/core/translationsLoader","coreUtils/core/masterPageLayoutUtils","coreUtils/core/originalValuesMapGenerator","coreUtils/core/componentsAnchorsMetaData","coreUtils/core/layoutAnchorsUtils","coreUtils/core/wixUserApi","coreUtils/core/scrollAnchorsUtils","coreUtils/core/renderUtils","coreUtils/core/clientSpecMapUtils","coreUtils/core/componentVisibility","coreUtils/core/fileUploadManager","coreUtils/core/fullToDisplayedJson","coreUtils/core/jsonUpdaterRegistrar","coreUtils/core/mobileUtils","coreUtils/core/modesUtils","coreUtils/core/structureDimensions","coreUtils/core/stubPageUtil","coreUtils/core/socialShareHandler","coreUtils/core/socialCounterDatabaseAPI","coreUtils/core/compsToPackages"],function(e,t,n,o,r,i,a,s,c,u,l,p,d,g,m,y,w,f,v,h,C,S,T,P,I,b,A,E,k){"use strict";return e.assign({},t,n,{componentUtils:o,anchorTagsGenerator:r,linkRenderer:i,linkTypes:a,linkUtils:s,menuUtils:c,translationsLoader:u,masterPageLayoutUtils:l,originalValuesMapGenerator:p,getComponentsAnchorsMetaData:d.get,layoutAnchors:g,wixUserApi:m,scrollAnchors:y,Store:t.StoreNew,renderUtils:w,clientSpecMapUtils:f,componentVisibility:v,fileUploadManager:h,fullToDisplayedJson:C,jsonUpdaterRegistrar:S,mobileUtils:T,modesUtils:P,structureDimensions:I,stubPageUtil:b,socialShareHandler:A,socialCounterDatabaseAPI:E,allPackages:k.all,getPackagesForComponent:k.getPackagesForComponent,prefetchComponents:k.prefetchComponents,getAllPackagesForAllComponents:k.getAllPackagesForAllComponents,getCallbackForRequiredPackage:k.getCallbackForRequiredPackage})});