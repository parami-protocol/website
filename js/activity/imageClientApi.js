!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.imageClientApi=t():e.imageClientApi=t()}(this,function(){return function(e){function t(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,i){"use strict";e.exports={alignTypes:{CENTER:"center",TOP:"top",TOP_LEFT:"top_left",TOP_RIGHT:"top_right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom_left",BOTTOM_RIGHT:"bottom_right",LEFT:"left",RIGHT:"right"},alignTypesMap:{center:"c",top:"t",top_left:"tl",top_right:"tr",bottom:"b",bottom_left:"bl",bottom_right:"br",left:"l",right:"r"},transformTypes:{FIT:"fit",FILL:"fill",FILL_FOCAL:"fill_focal",CROP:"crop",LEGACY_CROP:"legacy_crop",LEGACY_FILL:"legacy_fill"},fittingTypes:{SCALE_TO_FILL:"fill",SCALE_TO_FIT:"fit",STRETCH:"stretch",ORIGINAL_SIZE:"original_size",TILE:"tile",TILE_HORIZONTAL:"tile_horizontal",TILE_VERTICAL:"tile_vertical",FIT_AND_TILE:"fit_and_tile",LEGACY_STRIP_TILE:"legacy_strip_tile",LEGACY_STRIP_TILE_HORIZONTAL:"legacy_strip_tile_horizontal",LEGACY_STRIP_TILE_VERTICAL:"legacy_strip_tile_vertical",LEGACY_STRIP_SCALE_TO_FILL:"legacy_strip_fill",LEGACY_STRIP_SCALE_TO_FIT:"legacy_strip_fit",LEGACY_STRIP_FIT_AND_TILE:"legacy_strip_fit_and_tile",LEGACY_STRIP_ORIGINAL_SIZE:"legacy_strip_original_size",LEGACY_ORIGINAL_SIZE:"actual_size",LEGACY_FIT_WIDTH:"fitWidth",LEGACY_FIT_HEIGHT:"fitHeight",LEGACY_FULL:"full",LEGACY_BG_FIT_AND_TILE:"legacy_tile",LEGACY_BG_FIT_AND_TILE_HORIZONTAL:"legacy_tile_horizontal",LEGACY_BG_FIT_AND_TILE_VERTICAL:"legacy_tile_vertical",LEGACY_BG_NORMAL:"legacy_normal"},htmlTag:{BG:"bg",IMG:"img",SVG:"svg"},upscaleMethods:{DEFAULT:"default",SUPER:"super"},upscaleValues:{default:1,super:2},defaultUSM:{radius:.66,amount:1,threshold:.01},emptyData:{uri:"",css:{img:{},container:{}},attr:{img:{},container:{}}},imageQuality:{HIGH:"HIGH",MEDIUM:"MEDIUM",LOW:"LOW",TINY:"TINY"},imageQualityMap:{HIGH:{size:196e4,quality:90,maxDefaultUpscale:1,maxSuperUpscale:9999},MEDIUM:{size:36e4,quality:85,maxDefaultUpscale:1,maxSuperUpscale:9999},LOW:{size:16e4,quality:80,maxDefaultUpscale:1.2,maxSuperUpscale:9999},TINY:{size:0,quality:80,maxDefaultUpscale:1.4,maxSuperUpscale:9999}},fileType:{JPG:"jpg",JPEG:"jpeg",PNG:"png",WEBP:"webp",WIX_ICO_MP:"wix_ico_mp",WIX_MP:"wix_mp",GIF:"gif",SVG:"svg",UNRECOGNIZED:"unrecognized"},webp:{LOSSLESS:"lossless",LOSSY:"lossy",ALPHA:"alpha",ANIMATION:"animation"},API_VERSION:"v1"}},function(e,t,i){"use strict";function a(e){var t=new window.Image;t.onload=function(){var i=A.getFeature("isWEBP");i[e]=t.width>0&&t.height>0,A.setFeature("isWEBP",i)},t.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}function r(e){var t=[f.fileType.PNG,f.fileType.JPEG,f.fileType.JPG,f.fileType.WIX_ICO_MP,f.fileType.WIX_MP];return _.includes(t,h(e))}function n(e){return _.includes(["jpg","jpeg"],h(e))}function s(e){return _.includes(["png"],h(e))}function o(e){return _.includes(["webp"],h(e))}function c(e){return/(^https?)|(^data)|(^\/\/)/.test(e)}function h(e){return(/[.]([^.]+)$/.exec(e)&&/[.]([^.]+)$/.exec(e)[1]||"").toLowerCase()}function g(e,t,i,a){return Math.min(i/e,a/t)}function p(e,t,i,a){return Math.max(i/e,a/t)}function u(e,t,i,a,r){return r===f.transformTypes.FILL?p(e,t,i,a):r===f.transformTypes.FIT?g(e,t,i,a):1}function l(e){return e.pixelAspectRatio||1}function T(e,t,i){var a=f.imageQualityMap[m(e,t)];return i===f.upscaleMethods.SUPER?a.maxSuperUpscale:a.maxDefaultUpscale}function m(e,t){var i=e*t;return i>f.imageQualityMap[f.imageQuality.HIGH].size?f.imageQuality.HIGH:i>f.imageQualityMap[f.imageQuality.MEDIUM].size?f.imageQuality.MEDIUM:i>f.imageQualityMap[f.imageQuality.LOW].size?f.imageQuality.LOW:f.imageQuality.TINY}function d(e,t){var i=Math.pow(10,t||0);return(e*i/i).toFixed(parseInt(t,10))}var _=i(2),f=i(0),A=i(8);e.exports={populateGlobalFeatureSupport:function(){"undefined"!=typeof window&&(a(f.webp.LOSSY),a(f.webp.ANIMATION),A.setFeature("isObjectFitBrowser","objectFit"in window.document.documentElement.style))},isWEBPBrowserSupport:function(e){var t=A.getFeature("isWEBP"),i=e===f.fileType.JPG&&t[f.webp.LOSSY],a=e===f.fileType.PNG&&t[f.webp.LOSSLESS],r=e===f.fileType.PNG&&t[f.webp.ALPHA];return i||a&&r},isObjectFitBrowserSupport:function(){return A.getFeature("isObjectFitBrowser")},isImageTransformApplicable:function(e){return r(e)&&!c(e)},isValidRequest:function(e,t,i){return i&&t&&!(!(a=t.id)||!a.trim()||"none"===a.toLowerCase())&&_.includes(f.fittingTypes,e);var a},isImageTypeSupported:r,isExternalUrl:c,isJPG:n,isPNG:s,isWEBP:o,getFileType:function(e){return n(e)?f.fileType.JPG:s(e)?f.fileType.PNG:o(e)?f.fileType.WEBP:f.fileType.UNRECOGNIZED},getFileExtension:h,getFileName:function(e){var t=e,i=/\/(.*?)$/.exec(e);return i&&i[1]&&(t=i[1]),t.replace(/\.[^.]*$/,"")},getAlignedRect:function(e,t,i){var a=void 0,r=void 0;switch(i){case f.alignTypes.CENTER:a=Math.max(0,(e.width-t.width)/2),r=Math.max(0,(e.height-t.height)/2);break;case f.alignTypes.TOP:a=Math.max(0,(e.width-t.width)/2),r=0;break;case f.alignTypes.TOP_LEFT:a=0,r=0;break;case f.alignTypes.TOP_RIGHT:a=Math.max(0,e.width-t.width),r=0;break;case f.alignTypes.BOTTOM:a=Math.max(0,(e.width-t.width)/2),r=Math.max(0,e.height-t.height);break;case f.alignTypes.BOTTOM_LEFT:a=0,r=Math.max(0,e.height-t.height);break;case f.alignTypes.BOTTOM_RIGHT:a=Math.max(0,e.width-t.width),r=Math.max(0,e.height-t.height);break;case f.alignTypes.LEFT:a=0,r=Math.max(0,(e.height-t.height)/2);break;case f.alignTypes.RIGHT:a=Math.max(0,e.width-t.width),r=Math.max(0,(e.height-t.height)/2)}return{x:e.x?e.x+a:a,y:e.y?e.y+r:r,width:Math.min(e.width,t.width),height:Math.min(e.height,t.height)}},getOverlappingRect:function(e,t){var i=Math.max(0,Math.min(e.width,t.x+t.width)-Math.max(0,t.x)),a=Math.max(0,Math.min(e.height,t.y+t.height)-Math.max(0,t.y));return i&&a&&(e.width!==i||e.height!==a)?{x:Math.max(0,t.x),y:Math.max(0,t.y),width:i,height:a}:null},getFitScaleFactor:g,getFillScaleFactor:p,getScaleFactor:u,getCalculatedTransformedData:function(e,t,i,a,r){var n=l(i),s={width:0,height:0,scaleFactor:0,upscaleMethod:f.upscaleValues[r]||f.upscaleValues.default,cssUpscaleNeeded:!1},o=u(e,t,i.width*n,i.height*n,a),c=T(e,t,r);if(o>c){switch(a){case f.transformTypes.FILL:s.width=i.width*n*(c/o),s.height=i.height*n*(c/o);break;case f.transformTypes.FIT:s.width=e*c,s.height=t*c}s.scaleFactor=c,s.cssUpscaleNeeded=!0}else{switch(a){case f.transformTypes.FILL:s.width=i.width*n,s.height=i.height*n;break;case f.transformTypes.FIT:s.width=e*o,s.height=t*o}s.scaleFactor=o,s.cssUpscaleNeeded=!1}return s},getPixelAspectRatio:l,getAlignment:function(e){return f.alignTypesMap[e.alignment]||f.alignTypesMap[f.alignTypes.CENTER]},getPreferredImageQuality:function(e,t){return f.imageQualityMap[m(e,t)].quality},getPreferredUpscaleFactor:T,getDimension:function(e,t,i,a,r){var n=u(e,t,i,a,r);return{width:Math.round(e*n),height:Math.round(t*n)}},getFocalPoint:function(e){var t=null;return"number"==typeof e.x&&"number"==typeof e.y&&(t={x:d(Math.max(0,Math.min(100,e.x))/100,2),y:d(Math.max(0,Math.min(100,e.y))/100,2)}),t},getUpscaleString:function(e){return e&&e.upscaleMethod&&"string"==typeof e.upscaleMethod?e.upscaleMethod.toLowerCase():f.upscaleMethods.DEFAULT},roundToFixed:d}},function(e,t,i){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={assign:function(){for(var e=arguments[0]||{},t=Array.prototype.slice.call(arguments,1,arguments.length),i=0;i<t.length;i++){var a=t[i];for(var r in a)a.hasOwnProperty(r)&&(e[r]=a[r])}return e},includes:function(e,t){return e.indexOf?e.indexOf(t)>-1:!(!e||"object"!==(void 0===e?"undefined":a(e)))&&Object.keys(e).some(function(i){return e[i]===t})},last:function(e){return e[e.length-1]},template:function(e){return function(t){var i=e;for(var a in t)t.hasOwnProperty(a)&&(i=i.replace(new RegExp("\\$\\{"+a+"\\}","g"),t[a]));return i}}}},function(e,t,i){"use strict";var a=i(1),r=i(7),n=i(6);e.exports=function(e,t,i,s){var o=a.getFileType(t.id),c={fileName:a.getFileName(t.id),fileExtension:a.getFileExtension(t.id),fileType:o,isWEBPSupport:a.isWEBPBrowserSupport(o),fittingType:e,src:{id:t.id,width:t.width,height:t.height,isCropped:!1},focalPoint:{x:t.focalPoint&&t.focalPoint.x,y:t.focalPoint&&t.focalPoint.y},quality:0,upscaleMethod:a.getUpscaleString(s),progressive:!0,unsharpMask:{},watermark:"",parts:[]};return a.isImageTransformApplicable(t.id)&&(r.setTransformParts(c,t,i),n.setTransformOptions(c,s)),c}},function(e,t,i){"use strict";var a=i(2),r=i(0),n=a.template("fit/w_${width},h_${height}"),s=a.template("fill/w_${width},h_${height},al_${alignment}"),o=a.template("fill/w_${width},h_${height},fp_${focalPointX}_${focalPointY}"),c=a.template("crop/x_${x},y_${y},w_${width},h_${height}"),h=a.template("crop/w_${width},h_${height},al_${alignment}"),g=a.template("fill/w_${width},h_${height},al_${alignment}"),p=a.template(",lg_${upscaleMethod}"),u=a.template(",q_${quality}"),l=a.template(",usm_${radius}_${amount}_${threshold}"),T=a.template(",bl"),m=a.template(",wm_${watermark}");e.exports={getImageURI:function(e){var t=[];e.parts.forEach(function(e){switch(e.transformType){case r.transformTypes.CROP:t.push(c(e));break;case r.transformTypes.LEGACY_CROP:t.push(h(e));break;case r.transformTypes.LEGACY_FILL:var i=g(e);e.upscale&&(i+=p(e)),t.push(i);break;case r.transformTypes.FIT:var a=n(e);e.upscale&&(a+=p(e)),t.push(a);break;case r.transformTypes.FILL:var u=s(e);e.upscale&&(u+=p(e)),t.push(u);break;case r.transformTypes.FILL_FOCAL:var l=o(e);e.upscale&&(l+=p(e)),t.push(l)}});var i=t.join("/");return(e.fileType===r.fileType.PNG&&e.isWEBPSupport||e.fileType===r.fileType.JPG)&&(i+=u(e)),e.unsharpMask&&(i+=l(e.unsharpMask)),e.progressive||(i+=T(e)),e.watermark&&(i+=m(e)),e.src.id+"/"+r.API_VERSION+"/"+i+"/"+e.fileName+"."+(e.isWEBPSupport?"webp":e.fileExtension)}}},function(e,t,i){"use strict";var a=i(0),r=i(1),n=i(4),s=i(3);e.exports=function(e,t,i,o,c){var h=a.emptyData.uri;return r.isImageTransformApplicable(t.id)?(c=c||s(e,t,i,o,c),h=n.getImageURI(c)):h=t.id,h}},function(e,t,i){"use strict";var a=i(2),r=i(0),n=i(1);e.exports={setTransformOptions:function(e,t){t=t||{},e.quality=function(e,t){var i=a.last(e.parts),r=n.getPreferredImageQuality(i.width,i.height),s=t.quality&&t.quality>=5&&t.quality<=90?t.quality:r;return parseInt(s,10)}(e,t),e.unsharpMask=function(e,t){var i=void 0;return function(e){var t=void 0!==(e=e||{}).radius&&e.radius>=.1&&e.radius<=500,i=void 0!==e.amount&&e.amount>=0&&e.amount<=10,a=void 0!==e.threshold&&e.threshold>=0&&e.threshold<=255;return t&&i&&a}(t.unsharpMask)?i={radius:t.unsharpMask.radius,amount:t.unsharpMask.amount,threshold:t.unsharpMask.threshold}:function(e){return void 0!==(e=e||{}).radius&&0===e.radius&&void 0!==e.amount&&0===e.amount&&void 0!==e.threshold&&0===e.threshold}(t.unsharpMask)||function(e){var t=a.last(e.parts);return!(t.scaleFactor>=1)||t.forceUSM}(e)&&(i=r.defaultUSM),i&&(i.radius=n.roundToFixed(i.radius,2),i.amount=n.roundToFixed(i.amount,2),i.threshold=n.roundToFixed(i.threshold,2)),i}(e,t),e.progressive=function(e){return!1!==e.progressive}(t),e.watermark=function(e){return e.watermark}(t)}}},function(e,t,i){"use strict";function a(e,t){var i=o.getCalculatedTransformedData(e.src.width,e.src.height,t,s.transformTypes.FIT,e.upscaleMethod);return{transformType:s.transformTypes.FILL,width:Math.round(i.width),height:Math.round(i.height),alignment:s.alignTypesMap.center,upscale:i.scaleFactor>1,forceUSM:!1,scaleFactor:i.scaleFactor,cssUpscaleNeeded:i.cssUpscaleNeeded,upscaleMethod:i.upscaleMethod}}function r(e){return{transformType:s.transformTypes.CROP,x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}var n=i(2),s=i(0),o=i(1);e.exports={setTransformParts:function(e,t,i){var c=void 0;switch(t.crop&&(c=o.getOverlappingRect(t,t.crop))&&(e.src.width=c.width,e.src.height=c.height,e.src.cropped=!0,e.parts.push(r(c))),e.fittingType){case s.fittingTypes.SCALE_TO_FIT:case s.fittingTypes.LEGACY_FIT_WIDTH:case s.fittingTypes.LEGACY_FIT_HEIGHT:case s.fittingTypes.LEGACY_FULL:case s.fittingTypes.FIT_AND_TILE:case s.fittingTypes.LEGACY_BG_FIT_AND_TILE:case s.fittingTypes.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:case s.fittingTypes.LEGACY_BG_FIT_AND_TILE_VERTICAL:case s.fittingTypes.LEGACY_BG_NORMAL:e.parts.push(a(e,i));break;case s.fittingTypes.SCALE_TO_FILL:e.parts.push(function(e,t){var i=o.getCalculatedTransformedData(e.src.width,e.src.height,t,s.transformTypes.FILL,e.upscaleMethod),a=o.getFocalPoint(e.focalPoint);return{transformType:a?s.transformTypes.FILL_FOCAL:s.transformTypes.FILL,width:Math.round(i.width),height:Math.round(i.height),alignment:o.getAlignment(t),focalPointX:a&&a.x,focalPointY:a&&a.y,upscale:i.scaleFactor>1,forceUSM:!1,scaleFactor:i.scaleFactor,cssUpscaleNeeded:i.cssUpscaleNeeded,upscaleMethod:i.upscaleMethod}}(e,i));break;case s.fittingTypes.STRETCH:e.parts.push(function(e,t){var i=o.getScaleFactor(e.src.width,e.src.height,t.width,t.height,s.transformTypes.FILL),r=n.assign({},t);return r.width=e.src.width*i,r.height=e.src.height*i,a(e,r)}(e,i));break;case s.fittingTypes.TILE_HORIZONTAL:case s.fittingTypes.TILE_VERTICAL:case s.fittingTypes.TILE:case s.fittingTypes.LEGACY_ORIGINAL_SIZE:case s.fittingTypes.ORIGINAL_SIZE:c=o.getAlignedRect(e.src,i,i.alignment),e.src.isCropped?(n.assign(e.parts[0],c),e.src.width=c.width,e.src.height=c.height):e.parts.push(r(c));break;case s.fittingTypes.LEGACY_STRIP_TILE_HORIZONTAL:case s.fittingTypes.LEGACY_STRIP_TILE_VERTICAL:case s.fittingTypes.LEGACY_STRIP_TILE:case s.fittingTypes.LEGACY_STRIP_ORIGINAL_SIZE:e.parts.push(function(e){return{transformType:s.transformTypes.LEGACY_CROP,width:Math.round(e.width),height:Math.round(e.height),alignment:o.getAlignment(e),upscale:!1,forceUSM:!1,scaleFactor:1,cssUpscaleNeeded:!1}}(i));break;case s.fittingTypes.LEGACY_STRIP_SCALE_TO_FIT:case s.fittingTypes.LEGACY_STRIP_FIT_AND_TILE:e.parts.push(function(e){return{transformType:s.transformTypes.FIT,width:Math.round(e.width),height:Math.round(e.height),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(i));break;case s.fittingTypes.LEGACY_STRIP_SCALE_TO_FILL:e.parts.push(function(e){return{transformType:s.transformTypes.LEGACY_FILL,width:Math.round(e.width),height:Math.round(e.height),alignment:o.getAlignment(e),upscale:!1,forceUSM:!0,scaleFactor:1,cssUpscaleNeeded:!1}}(i))}}}},function(e,t,i){"use strict";var a={isWEBP:{lossless:!1,lossy:!1,alpha:!1,animation:!1},isObjectFitBrowser:!1};e.exports={getFeature:function(e){return a[e]},setFeature:function(e,t){a[e]=t}}},,,function(e,t,i){"use strict";var a=i(2),r=i(0),n=i(1);e.exports={get:function(e,t){var i={css:{container:{},img:{}}},s=i.css,o=e.fittingType,c=r.fittingTypes,h=t.alignment,g=r.alignTypes,p=void 0,u=void 0;e.parts&&e.parts.length?(p=e.parts[0].width,u=e.parts[0].height):(p=e.src.width,u=e.src.height);var l=void 0;switch(s.img.display="block",s.container.position="relative",s.img.position="absolute",s.img.top="auto",s.img.right="auto",s.img.bottom="auto",s.img.left="auto",o){case c.ORIGINAL_SIZE:case c.LEGACY_ORIGINAL_SIZE:s.img.width=p,s.img.height=u;break;case c.SCALE_TO_FIT:case c.LEGACY_FIT_WIDTH:case c.LEGACY_FIT_HEIGHT:case c.LEGACY_FULL:l=n.getDimension(p,u,t.width,t.height,r.transformTypes.FIT),a.assign(s.img,l);break;case c.STRETCH:s.img.width=t.width,s.img.height=t.height;break;case c.SCALE_TO_FILL:var T=e.src.id;n.isImageTypeSupported(T)||n.isExternalUrl(T)?(s.img.width=t.width,s.img.height=t.height):(l=n.getDimension(p,u,t.width,t.height,r.transformTypes.FILL),a.assign(s.img,l),s.container.overflow="hidden")}if(s.img.width!==t.width||s.img.height!==t.height){var m=Math.round((t.height-s.img.height)/2),d=Math.round((t.width-s.img.width)/2);switch(h){default:case g.CENTER:s.img.top=m,s.img.left=d;break;case g.LEFT:s.img.left=0,s.img.top=m;break;case g.RIGHT:s.img.right=0,s.img.top=m;break;case g.TOP:s.img.left=d,s.img.top=0;break;case g.BOTTOM:s.img.left=d,s.img.bottom=0;break;case g.TOP_RIGHT:s.img.right=0,s.img.top=0;break;case g.TOP_LEFT:s.img.left=0,s.img.top=0;break;case g.BOTTOM_RIGHT:s.img.right=0,s.img.bottom=0;break;case g.BOTTOM_LEFT:s.img.left=0,s.img.bottom=0}}return i}}},function(e,t,i){"use strict";var a=i(0),r=i(1);e.exports={get:function(e,t){var i={css:{container:{}},attr:{container:{},img:{}}},n=i.css,s=i.attr,o=e.fittingType,c=a.fittingTypes,h=t.alignment,g=a.alignTypes,p=e.src.width,u=e.src.height,l=void 0;switch(n.container.position="relative",o){case c.ORIGINAL_SIZE:case c.LEGACY_ORIGINAL_SIZE:case c.TILE:e.parts&&e.parts.length?(s.img.width=e.parts[0].width,s.img.height=e.parts[0].height):(s.img.width=p,s.img.height=u),s.img.preserveAspectRatio="xMidYMid slice";break;case c.SCALE_TO_FIT:case c.LEGACY_FIT_WIDTH:case c.LEGACY_FIT_HEIGHT:case c.LEGACY_FULL:s.img.width="100%",s.img.height="100%",s.img.transform="",s.img.preserveAspectRatio="";break;case c.STRETCH:s.img.width=t.width,s.img.height=t.height,s.img.x=0,s.img.y=0,s.img.transform="",s.img.preserveAspectRatio="none";break;case c.SCALE_TO_FILL:r.isImageTransformApplicable(e.src.id)?(s.img.width=t.width,s.img.height=t.height):(l=r.getDimension(p,u,t.width,t.height,a.transformTypes.FILL),s.img.width=l.width,s.img.height=l.height),s.img.x=0,s.img.y=0,s.img.transform="",s.img.preserveAspectRatio="xMidYMid slice"}if(s.img.width!==t.width||s.img.height!==t.height){var T=0,m=0,d=void 0,_=void 0;o===c.TILE?(d=t.width%s.img.width,_=t.height%s.img.height):(d=t.width-s.img.width,_=t.height-s.img.height);var f=Math.round(d/2),A=Math.round(_/2);switch(h){case g.TOP_LEFT:T=0,m=0;break;case g.TOP:T=f,m=0;break;case g.TOP_RIGHT:T=d,m=0;break;case g.LEFT:T=0,m=A;break;case g.CENTER:T=f,m=A;break;case g.RIGHT:T=d,m=A;break;case g.BOTTOM_LEFT:T=0,m=_;break;case g.BOTTOM:T=f,m=_;break;case g.BOTTOM_RIGHT:T=d,m=_}s.img.x=T,s.img.y=m}return s.container.width=t.width,s.container.height=t.height,s.container.viewBox=[0,0,t.width,t.height].join(" "),i}}},function(e,t,i){"use strict";var a=i(0);e.exports={get:function(e,t){var i={css:{container:{},img:{}}},r=i.css,n=e.fittingType,s=t.alignment,o=a.fittingTypes,c=a.alignTypes;switch(r.container.position="relative",n){case o.ORIGINAL_SIZE:case o.LEGACY_ORIGINAL_SIZE:e.parts&&e.parts.length?(r.img.width=e.parts[0].width,r.img.height=e.parts[0].height):(r.img.width=e.src.width,r.img.height=e.src.height);break;case o.SCALE_TO_FIT:case o.LEGACY_FIT_WIDTH:case o.LEGACY_FIT_HEIGHT:case o.LEGACY_FULL:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="contain";break;case o.STRETCH:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="fill";break;case o.SCALE_TO_FILL:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="cover"}if(r.img.width!==t.width||r.img.height!==t.height){var h=Math.round((t.height-r.img.height)/2),g=Math.round((t.width-r.img.width)/2);switch(r.img.position="absolute",r.img.top="auto",r.img.right="auto",r.img.bottom="auto",r.img.left="auto",s){default:case c.CENTER:r.img.width=t.width,r.img.height=t.height,r.img.objectFit="none";break;case c.LEFT:r.img.left=0,r.img.top=h;break;case c.RIGHT:r.img.right=0,r.img.top=h;break;case c.TOP:r.img.left=g,r.img.top=0;break;case c.BOTTOM:r.img.left=g,r.img.bottom=0;break;case c.TOP_RIGHT:r.img.right=0,r.img.top=0;break;case c.TOP_LEFT:r.img.left=0,r.img.top=0;break;case c.BOTTOM_RIGHT:r.img.right=0,r.img.bottom=0;break;case c.BOTTOM_LEFT:r.img.left=0,r.img.bottom=0}}return i}}},function(e,t,i){"use strict";var a=i(0);e.exports={get:function(e,t){var i={css:{container:{}}},r=i.css,n=a.alignTypes,s=e.fittingType,o=a.fittingTypes;switch(s){case o.ORIGINAL_SIZE:case o.LEGACY_ORIGINAL_SIZE:case o.LEGACY_STRIP_ORIGINAL_SIZE:r.container.backgroundSize="auto",r.container.backgroundRepeat="no-repeat";break;case o.SCALE_TO_FIT:case o.LEGACY_STRIP_SCALE_TO_FIT:r.container.backgroundSize="contain",r.container.backgroundRepeat="no-repeat";break;case o.STRETCH:r.container.backgroundSize="100% 100%",r.container.backgroundRepeat="no-repeat";break;case o.SCALE_TO_FILL:case o.LEGACY_STRIP_SCALE_TO_FILL:r.container.backgroundSize="cover",r.container.backgroundRepeat="no-repeat";break;case o.TILE_HORIZONTAL:case o.LEGACY_STRIP_TILE_HORIZONTAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-x";break;case o.TILE_VERTICAL:case o.LEGACY_STRIP_TILE_VERTICAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-y";break;case o.TILE:case o.LEGACY_STRIP_TILE:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat";break;case o.FIT_AND_TILE:case o.LEGACY_STRIP_FIT_AND_TILE:r.container.backgroundSize="contain",r.container.backgroundRepeat="repeat";break;case o.LEGACY_BG_FIT_AND_TILE:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat";break;case o.LEGACY_BG_FIT_AND_TILE_HORIZONTAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-x";break;case o.LEGACY_BG_FIT_AND_TILE_VERTICAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="repeat-y";break;case o.LEGACY_BG_NORMAL:r.container.backgroundSize="auto",r.container.backgroundRepeat="no-repeat"}switch(t.alignment){case n.CENTER:r.container.backgroundPosition="center center";break;case n.LEFT:r.container.backgroundPosition="left center";break;case n.RIGHT:r.container.backgroundPosition="right center";break;case n.TOP:r.container.backgroundPosition="center top";break;case n.BOTTOM:r.container.backgroundPosition="center bottom";break;case n.TOP_RIGHT:r.container.backgroundPosition="right top";break;case n.TOP_LEFT:r.container.backgroundPosition="left top";break;case n.BOTTOM_RIGHT:r.container.backgroundPosition="right bottom";break;case n.BOTTOM_LEFT:r.container.backgroundPosition="left bottom"}return i}}},function(e,t,i){"use strict";var a=i(0),r=i(1),n=i(14),s=i(13),o=i(12),c=i(11);e.exports={getAttributes:function(e,t){return(t.htmlTag===a.htmlTag.BG?n:t.htmlTag===a.htmlTag.SVG?o:r.isObjectFitBrowserSupport()?s:c).get(e,t)}}},function(e,t,i){"use strict";var a=i(2),r=i(0),n=i(1),s=i(15),o=i(3),c=i(5);e.exports={populateGlobalFeatureSupport:n.populateGlobalFeatureSupport,getData:function(e,t,i,h){var g={};if(n.isValidRequest(e,t,i)){var p=o(e,t,i,h);g.uri=c(e,t,i,h,p),a.assign(g,s.getAttributes(p,i))}else g=r.emptyData;return g},fittingTypes:r.fittingTypes,alignTypes:r.alignTypes,htmlTag:r.htmlTag,upscaleMethods:r.upscaleMethods}}])});